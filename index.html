< !DOCTYPE html><html lang="hi"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes"><meta name="theme-color" content="#0a0a0f"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><title>Sudhir's Clock</title>
 <style>@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@200;300;400;500;600;700;800&family=JetBrains+Mono:wght@300;400;500;600&display=swap');

*,
::before,
::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0
}

:root {
    --bg-1: #06060b;
    --bg-2: #0e0e18;
    --bg-3: #161625;
    --bg-4: #1e1e32;
    --accent: #ff6b35;
    --accent-2: #ff8c42;
    --accent-3: #ffab76;
    --accent-glow: rgba(255, 107, 53, 0.35);
    --accent-soft: rgba(255, 107, 53, 0.1);
    --accent-mid: rgba(255, 107, 53, 0.2);
    --color-cyan: #00e5ff;
    --color-magenta: #ff4ecb;
    --color-lime: #b8ff3a;
    --color-gold: #ffd740;
    --color-coral: #ff6b6b;
    --text-1: var(--color-cyan);
    --text-2: var(--color-gold);
    --text-3: var(--color-magenta);
    --text-4: var(--color-lime);
    --glass: rgba(255, 255, 255, 0.03);
    --glass-2: rgba(255, 255, 255, 0.05);
    --glass-border: rgba(255, 255, 255, 0.07);
    --glass-border-2: rgba(255, 255, 255, 0.12);
    --glass-hover: rgba(255, 255, 255, 0.09);
    --shadow-1: 0 20px 60px rgba(0, 0, 0, 0.5);
    --shadow-glow: 0 0 100px rgba(255, 107, 53, 0.06);
    --radius: 18px;
    --radius-sm: 12px;
    --radius-xs: 8px;
    --topbar-h: 54px;
    --bottombar-h: 0px;
    --safe-bottom: env(safe-area-inset-bottom, 0px);
    --transition-fast: 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    --transition-med: 0.35s cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slow: 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    --clock-mask-opacity: 0.20;
    --clock-size: min(82vmin, 720px);
}

[data-theme="emerald"] {
    --accent: #10b981;
    --accent-2: #34d399;
    --accent-3: #6ee7b7;
    --accent-glow: rgba(16, 185, 129, 0.35);
    --accent-soft: rgba(16, 185, 129, 0.1);
    --accent-mid: rgba(16, 185, 129, 0.2);
    --shadow-glow: 0 0 100px rgba(16, 185, 129, 0.06)
}

[data-theme="violet"] {
    --accent: #8b5cf6;
    --accent-2: #a78bfa;
    --accent-3: #c4b5fd;
    --accent-glow: rgba(139, 92, 246, 0.35);
    --accent-soft: rgba(139, 92, 246, 0.1);
    --accent-mid: rgba(139, 92, 246, 0.2);
    --shadow-glow: 0 0 100px rgba(139, 92, 246, 0.06)
}

[data-theme="rose"] {
    --accent: #f43f5e;
    --accent-2: #fb7185;
    --accent-3: #fda4af;
    --accent-glow: rgba(244, 63, 94, 0.35);
    --accent-soft: rgba(244, 63, 94, 0.1);
    --accent-mid: rgba(244, 63, 94, 0.2);
    --shadow-glow: 0 0 100px rgba(244, 63, 94, 0.06)
}

[data-theme="cyan"] {
    --accent: #06b6d4;
    --accent-2: #22d3ee;
    --accent-3: #67e8f9;
    --accent-glow: rgba(6, 182, 212, 0.35);
    --accent-soft: rgba(6, 182, 212, 0.1);
    --accent-mid: rgba(6, 182, 212, 0.2);
    --shadow-glow: 0 0 100px rgba(6, 182, 212, 0.06)
}

[data-theme="gold"] {
    --accent: #f59e0b;
    --accent-2: #fbbf24;
    --accent-3: #fcd34d;
    --accent-glow: rgba(245, 158, 11, 0.35);
    --accent-soft: rgba(245, 158, 11, 0.1);
    --accent-mid: rgba(245, 158, 11, 0.2);
    --shadow-glow: 0 0 100px rgba(245, 158, 11, 0.06)
}

[data-theme="ocean"] {
    --accent: #3b82f6;
    --accent-2: #60a5fa;
    --accent-3: #93c5fd;
    --accent-glow: rgba(59, 130, 246, 0.35);
    --accent-soft: rgba(59, 130, 246, 0.1);
    --accent-mid: rgba(59, 130, 246, 0.2);
    --shadow-glow: 0 0 100px rgba(59, 130, 246, 0.06)
}

[data-theme="pink"] {
    --accent: #ec4899;
    --accent-2: #f472b6;
    --accent-3: #f9a8d4;
    --accent-glow: rgba(236, 72, 153, 0.35);
    --accent-soft: rgba(236, 72, 153, 0.1);
    --accent-mid: rgba(236, 72, 153, 0.2);
    --shadow-glow: 0 0 100px rgba(236, 72, 153, 0.06)
}

[data-theme="lime"] {
    --accent: #84cc16;
    --accent-2: #a3e635;
    --accent-3: #bef264;
    --accent-glow: rgba(132, 204, 22, 0.35);
    --accent-soft: rgba(132, 204, 22, 0.1);
    --accent-mid: rgba(132, 204, 22, 0.2);
    --shadow-glow: 0 0 100px rgba(132, 204, 22, 0.06)
}

html {
    font-size: 16px;
    scroll-behavior: smooth;
    -webkit-text-size-adjust: 100%
}

body {
    min-height: 100dvh;
    display: flex;
    flex-direction: column;
    align-items: center;
    font-family: 'Outfit', system-ui, -apple-system, sans-serif;
    background: var(--bg-1);
    color: var(--color-cyan);
    overflow-x: hidden;
    overflow-y: auto;
    -webkit-font-smoothing: antialiased;
    -webkit-tap-highlight-color: transparent;
    line-height: 1.5
}

::selection {
    background: var(--accent);
    color: white
}

::-webkit-scrollbar {
    width: 5px
}

::-webkit-scrollbar-track {
    background: transparent
}

::-webkit-scrollbar-thumb {
    background: var(--glass-border);
    border-radius: 10px
}

::-webkit-scrollbar-thumb:hover {
    background: var(--accent)
}

/* ═══ ENHANCED LOADER ═══ */
.loader {
    position: fixed;
    inset: 0;
    z-index: 99999;
    background: var(--bg-1);
    display: grid;
    place-content: center;
    transition: opacity 1s, visibility 1s, transform 1s
}

.loader.done {
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    transform: scale(1.1)
}

.loader-inner {
    text-align: center;
    position: relative
}

.loader-ring {
    width: 70px;
    height: 70px;
    margin: 0 auto 20px;
    position: relative
}

.loader-ring::before,
.loader-ring::after,
.loader-ring-inner {
    position: absolute;
    inset: 0;
    border-radius: 50%;
    border: 2.5px solid transparent
}

.loader-ring::before {
    content: '';
    border-top-color: var(--color-cyan);
    animation: spin 0.8s linear infinite
}

.loader-ring::after {
    content: '';
    inset: 6px;
    border-right-color: var(--color-magenta);
    animation: spin 1.2s linear infinite reverse
}

.loader-ring-inner {
    inset: 12px;
    border-bottom-color: var(--color-gold);
    animation: spin 1.6s linear infinite
}

.loader-text {
    color: var(--color-magenta);
    font-size: 0.75rem;
    letter-spacing: 5px;
    text-transform: uppercase;
    font-weight: 400;
    animation: loaderPulse 1.5s ease-in-out infinite
}

.loader-dots {
    display: inline-block;
    width: 24px;
    text-align: left
}

.loader-dots::after {
    content: '...';
    animation: dotAnim 1.5s steps(4, end) infinite
}

@keyframes spin {
    to {
        transform: rotate(360deg)
    }
}

@keyframes loaderPulse {

    0%,
    100% {
        opacity: 0.5;
        transform: scale(1)
    }

    50% {
        opacity: 1;
        transform: scale(1.05)
    }
}

@keyframes dotAnim {
    0% {
        content: ''
    }

    25% {
        content: '.'
    }

    50% {
        content: '..'
    }

    75% {
        content: '...'
    }
}

#bg-canvas {
    position: fixed;
    inset: 0;
    z-index: 0;
    pointer-events: none;
    opacity: 0.4;
    transition: opacity var(--transition-slow)
}

/* ═══ AURORA BACKGROUND ═══ */
.ambient {
    position: fixed;
    inset: 0;
    z-index: 0;
    pointer-events: none;
    opacity: 0.5
}

.aurora {
    position: absolute;
    inset: -50%;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.4;
    mix-blend-mode: screen
}

.aurora-1 {
    width: 60%;
    height: 60%;
    top: -10%;
    left: -10%;
    background: radial-gradient(ellipse, rgba(0, 229, 255, 0.15), transparent 70%);
    animation: auroraMove1 15s ease-in-out infinite alternate
}

.aurora-2 {
    width: 50%;
    height: 50%;
    bottom: -10%;
    right: -10%;
    background: radial-gradient(ellipse, rgba(255, 78, 203, 0.12), transparent 70%);
    animation: auroraMove2 18s ease-in-out infinite alternate
}

.aurora-3 {
    width: 45%;
    height: 45%;
    top: 20%;
    right: 20%;
    background: radial-gradient(ellipse, rgba(255, 107, 53, 0.1), transparent 70%);
    animation: auroraMove3 20s ease-in-out infinite alternate
}

@keyframes auroraMove1 {
    0% {
        transform: translate(0, 0) rotate(0deg) scale(1)
    }

    100% {
        transform: translate(15%, 10%) rotate(30deg) scale(1.2)
    }
}

@keyframes auroraMove2 {
    0% {
        transform: translate(0, 0) rotate(0deg) scale(1)
    }

    100% {
        transform: translate(-20%, -15%) rotate(-25deg) scale(1.3)
    }
}

@keyframes auroraMove3 {
    0% {
        transform: translate(0, 0) rotate(0deg) scale(1)
    }

    100% {
        transform: translate(10%, -20%) rotate(40deg) scale(0.9)
    }
}

/* ═══ FLOATING ORBS ═══ */
.floating-orbs {
    position: fixed;
    inset: 0;
    z-index: 1;
    pointer-events: none;
    overflow: hidden
}

.orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(1px);
    opacity: 0;
    animation: orbFloat linear infinite
}

@keyframes orbFloat {
    0% {
        opacity: 0;
        transform: translateY(100vh) scale(0)
    }

    10% {
        opacity: 1
    }

    90% {
        opacity: 1
    }

    100% {
        opacity: 0;
        transform: translateY(-100vh) scale(1)
    }
}

.topbar {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 100;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 16px;
    height: var(--topbar-h);
    background: rgba(6, 6, 11, 0.78);
    backdrop-filter: blur(28px) saturate(1.5);
    -webkit-backdrop-filter: blur(28px) saturate(1.5);
    border-bottom: 1px solid var(--glass-border);
    transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1), box-shadow var(--transition-med)
}

.topbar.scrolled {
    box-shadow: 0 4px 40px rgba(0, 0, 0, 0.4);
    background: rgba(6, 6, 11, 0.92)
}

.topbar.hidden-bar {
    transform: translateY(-100%)
}

.topbar-left {
    display: flex;
    align-items: center;
    gap: 10px;
    min-width: 0
}

.topbar-logo {
    width: 30px;
    height: 30px;
    border-radius: 9px;
    flex-shrink: 0;
    background: linear-gradient(135deg, var(--accent), var(--accent-2));
    display: grid;
    place-content: center;
    font-weight: 700;
    font-size: 0.75rem;
    color: white;
    box-shadow: 0 2px 12px var(--accent-glow);
    animation: logoPulse 3s ease-in-out infinite
}

@keyframes logoPulse {

    0%,
    100% {
        box-shadow: 0 2px 12px var(--accent-glow)
    }

    50% {
        box-shadow: 0 2px 25px var(--accent-glow), 0 0 40px var(--accent-soft)
    }
}

.topbar-brand {
    font-weight: 600;
    font-size: 0.9rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--color-cyan)
}

.topbar-brand span {
    color: var(--color-magenta);
    font-weight: 400;
    font-size: 0.72rem;
    margin-left: 6px
}

.topbar-right {
    display: flex;
    align-items: center;
    gap: 5px;
    flex-shrink: 0
}

/* ═══ RIPPLE BUTTONS ═══ */
.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 5px;
    padding: 7px 13px;
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-xs);
    background: var(--glass);
    color: var(--color-gold);
    font-size: 0.78rem;
    font-family: inherit;
    font-weight: 500;
    cursor: pointer;
    transition: all var(--transition-fast);
    outline: none;
    white-space: nowrap;
    -webkit-tap-highlight-color: transparent;
    user-select: none;
    position: relative;
    overflow: hidden
}

.btn:hover,
.btn:focus-visible {
    background: var(--glass-hover);
    border-color: rgba(255, 255, 255, 0.15);
    color: var(--color-cyan)
}

.btn:active {
    transform: scale(0.96)
}

.btn.active {
    background: var(--accent-soft);
    border-color: var(--accent);
    color: var(--accent)
}

.btn-icon {
    padding: 7px;
    width: 34px;
    height: 34px;
    display: grid;
    place-content: center
}

.btn svg,
.bottombar-btn svg {
    width: 16px;
    height: 16px;
    fill: none;
    stroke: currentColor;
    stroke-width: 2;
    stroke-linecap: round;
    stroke-linejoin: round;
    flex-shrink: 0
}

.ripple {
    position: absolute;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: scale(0);
    animation: rippleAnim 0.6s ease-out forwards;
    pointer-events: none
}

@keyframes rippleAnim {
    to {
        transform: scale(4);
        opacity: 0
    }
}

.bottombar {
    display: none;
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 100;
    height: calc(58px + var(--safe-bottom));
    background: rgba(6, 6, 11, 0.85);
    backdrop-filter: blur(28px) saturate(1.5);
    -webkit-backdrop-filter: blur(28px) saturate(1.5);
    border-top: 1px solid var(--glass-border);
    align-items: center;
    justify-content: space-around;
    padding: 2px 4px var(--safe-bottom)
}

.bottombar-btn {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2px;
    background: none;
    border: none;
    color: var(--color-magenta);
    font-family: inherit;
    font-size: 0.6rem;
    font-weight: 500;
    cursor: pointer;
    padding: 6px 10px;
    border-radius: var(--radius-sm);
    transition: all var(--transition-fast);
    outline: none;
    -webkit-tap-highlight-color: transparent;
    position: relative;
    overflow: hidden
}

.bottombar-btn svg {
    width: 19px;
    height: 19px
}

.bottombar-btn.active,
.bottombar-btn:hover {
    color: var(--accent);
    background: var(--accent-soft)
}

.bottombar-btn:active {
    transform: scale(0.92)
}

.main {
    position: relative;
    z-index: 10;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 28px;
    padding: calc(var(--topbar-h) + 20px) 16px calc(var(--bottombar-h) + var(--safe-bottom) + 24px);
    width: 100%;
    max-width: 800px
}

/* ═══ ANIMATED SECTION TITLES ═══ */
.section-title {
    font-size: 0.72rem;
    text-transform: uppercase;
    letter-spacing: 3.5px;
    color: var(--color-lime);
    margin-bottom: 14px;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 8px;
    animation: colorShift 8s ease-in-out infinite
}

.section-title::after {
    content: '';
    flex: 1;
    height: 1px;
    background: linear-gradient(90deg, var(--glass-border-2), transparent);
    animation: lineGrow 2s ease-out both
}

@keyframes colorShift {

    0%,
    100% {
        color: var(--color-lime)
    }

    25% {
        color: var(--color-cyan)
    }

    50% {
        color: var(--color-gold)
    }

    75% {
        color: var(--color-magenta)
    }
}

@keyframes lineGrow {
    from {
        transform: scaleX(0);
        transform-origin: left
    }

    to {
        transform: scaleX(1);
        transform-origin: left
    }
}

/* ═══ GREETING with typewriter ═══ */
.greeting {
    text-align: center;
    animation: fadeUp 0.8s ease-out 0.2s both
}

.greeting-text {
    font-size: clamp(1.05rem, 3.2vw, 1.5rem);
    font-weight: 400;
    color: var(--color-coral);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    flex-wrap: wrap
}

.greeting-text strong {
    color: var(--accent);
    font-weight: 700;
    animation: nameGlow 3s ease-in-out infinite
}

@keyframes nameGlow {

    0%,
    100% {
        text-shadow: 0 0 10px transparent
    }

    50% {
        text-shadow: 0 0 20px var(--accent-glow), 0 0 40px var(--accent-soft)
    }
}

.greeting-emoji {
    font-size: clamp(1.3rem, 3.5vw, 1.8rem);
    display: inline-block;
    animation: wave 2.5s ease-in-out infinite;
    transform-origin: 70% 70%
}

@keyframes wave {

    0%,
    100% {
        transform: rotate(0)
    }

    15% {
        transform: rotate(14deg)
    }

    30% {
        transform: rotate(-8deg)
    }

    40% {
        transform: rotate(14deg)
    }

    50% {
        transform: rotate(-4deg)
    }

    60% {
        transform: rotate(10deg)
    }

    70% {
        transform: rotate(0)
    }
}

/* ═══ DIGITAL TIME with morphing gradient ═══ */
.digital-section {
    text-align: center;
    animation: fadeUp 0.8s ease-out 0.35s both
}

.digital-time {
    font-family: 'JetBrains Mono', monospace;
    font-size: clamp(1.8rem, 6.5vw, 4.2rem);
    font-weight: 400;
    letter-spacing: 2px;
    background: linear-gradient(135deg, var(--color-cyan) 0%, var(--color-magenta) 33%, var(--color-gold) 66%, var(--color-lime) 100%);
    background-size: 300% 300%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    line-height: 1.15;
    animation: gradientMorph 6s ease-in-out infinite;
    text-shadow: none
}

@keyframes gradientMorph {
    0% {
        background-position: 0% 50%
    }

    50% {
        background-position: 100% 50%
    }

    100% {
        background-position: 0% 50%
    }
}

.digital-time .colon {
    animation: blink 1s ease-in-out infinite, colonPop 2s ease-in-out infinite;
    -webkit-text-fill-color: var(--color-coral)
}

@keyframes blink {

    0%,
    100% {
        opacity: 1
    }

    50% {
        opacity: 0.15
    }
}

@keyframes colonPop {

    0%,
    100% {
        transform: scaleY(1)
    }

    50% {
        transform: scaleY(1.2)
    }
}

.digital-date {
    font-size: clamp(0.68rem, 1.7vw, 0.88rem);
    color: var(--color-lime);
    margin-top: 8px;
    letter-spacing: 2px;
    text-transform: uppercase;
    font-weight: 400;
    animation: fadeSlideIn 1s ease-out 0.6s both
}

@keyframes fadeSlideIn {
    from {
        opacity: 0;
        transform: translateX(-20px);
        filter: blur(4px)
    }

    to {
        opacity: 1;
        transform: translateX(0);
        filter: blur(0)
    }
}

.digital-ampm {
    display: inline-block;
    font-size: clamp(0.7rem, 2vw, 1.1rem);
    color: var(--color-coral);
    font-weight: 600;
    margin-left: 6px;
    vertical-align: super;
    -webkit-text-fill-color: var(--color-coral);
    animation: ampmBounce 2s ease-in-out infinite
}

@keyframes ampmBounce {

    0%,
    100% {
        transform: translateY(0)
    }

    50% {
        transform: translateY(-2px)
    }
}

@keyframes fadeUp {
    from {
        opacity: 0;
        transform: translateY(24px)
    }

    to {
        opacity: 1;
        transform: translateY(0)
    }
}

/* ═══ CLOCK with breathing glow ═══ */
.clock-wrapper {
    position: relative;
    animation: fadeUp 0.8s ease-out 0.5s both, clockFloat 6s ease-in-out infinite;
    width: 100%;
    display: flex;
    justify-content: center
}

@keyframes clockFloat {

    0%,
    100% {
        transform: translateY(0)
    }

    50% {
        transform: translateY(-6px)
    }
}

.clock-container {
    position: relative;
    width: var(--clock-size);
    height: var(--clock-size);
    flex-shrink: 0
}

.clock {
    position: relative;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle at 35% 30%, var(--bg-3), var(--bg-2) 70%, var(--bg-1));
    border-radius: 50%;
    box-shadow: var(--shadow-1), var(--shadow-glow), inset 0 0 100px rgba(0, 0, 0, 0.4), 0 0 0 2px rgba(255, 255, 255, 0.04);
    border: 1px solid var(--glass-border-2);
    transition: transform 0.3s
}

.clock::before {
    content: "";
    position: absolute;
    inset: 2px;
    border-radius: 50%;
    z-index: 20;
    clip-path: polygon(0 0, 100% 0, 100% 46%, 50% 46%, 50% 54%, 100% 54%, 100% 100%, 0 100%);
    background: linear-gradient(180deg, rgba(6, 6, 11, 0.25) 0%, rgba(6, 6, 11, 0.15) 40%, transparent 46%, transparent 54%, rgba(6, 6, 11, 0.15) 60%, rgba(6, 6, 11, 0.25) 100%);
    opacity: var(--clock-mask-opacity);
    pointer-events: none
}

.clock::after {
    content: "";
    position: absolute;
    inset: -4px;
    border-radius: 50%;
    z-index: -1;
    background: conic-gradient(from 0deg, transparent, var(--accent), var(--color-cyan), transparent 30%, transparent 50%, var(--color-magenta), var(--accent), transparent 80%);
    opacity: 0.18;
    animation: ringRotate 20s linear infinite;
    filter: blur(8px)
}

@keyframes ringRotate {
    to {
        transform: rotate(360deg)
    }
}

.clock-glow {
    position: absolute;
    inset: 0;
    border-radius: 50%;
    z-index: 1;
    pointer-events: none;
    background: radial-gradient(circle at 50% 50%, var(--accent-soft), transparent 60%);
    opacity: 0.3;
    animation: glowBreath 4s ease-in-out infinite
}

@keyframes glowBreath {

    0%,
    100% {
        opacity: 0.2;
        transform: scale(1)
    }

    50% {
        opacity: 0.45;
        transform: scale(1.03)
    }
}

.clock>div {
    position: absolute;
    inset: 0;
    margin: auto;
    width: var(--cd);
    height: var(--cd);
    font-size: var(--cf, 0.65rem);
    aspect-ratio: 1;
    isolation: isolate;
    border-radius: 50%;
    transition: opacity var(--transition-med);
    z-index: 25
}

.clock>div.hidden-ring {
    opacity: 0;
    pointer-events: none
}

.clock>div:nth-of-type(1) {
    --cd: calc(var(--clock-size)*0.97);
    --cf: 0.52rem
}

.clock>div:nth-of-type(2) {
    --cd: calc(var(--clock-size)*0.84);
    --cf: 0.58rem
}

.clock>div:nth-of-type(3) {
    --cd: calc(var(--clock-size)*0.71);
    --cf: 0.58rem
}

.clock>div:nth-of-type(4) {
    --cd: calc(var(--clock-size)*0.58);
    --cf: 0.6rem
}

.clock>div:nth-of-type(5) {
    --cd: calc(var(--clock-size)*0.46);
    --cf: 0.56rem
}

.clock>div:nth-of-type(6) {
    --cd: calc(var(--clock-size)*0.34);
    --cf: 0.52rem
}

.clock>div:nth-of-type(7) {
    --cd: calc(var(--clock-size)*0.22);
    --cf: 0.45rem
}

.clock>div::before {
    content: "";
    position: absolute;
    inset: -1px;
    border-radius: 50%;
    border: 1px solid rgba(255, 255, 255, 0.04);
    pointer-events: none
}

.clock-face {
    position: relative;
    width: 100%;
    height: 100%;
    aspect-ratio: 1;
    border-radius: 50%;
    transition: transform 400ms cubic-bezier(0.4, 0, 0.2, 1)
}

/* Ring colors with blur */
.clock>div:nth-of-type(1) .clock-face>* {
    color: rgba(255, 107, 107, 0.6);
    filter: blur(0.5px);
    font-family: 'JetBrains Mono', monospace;
    font-weight: 500;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    text-shadow: 0 0 8px rgba(255, 107, 107, 0.3)
}

.clock>div:nth-of-type(2) .clock-face>* {
    color: rgba(0, 229, 255, 0.55);
    filter: blur(0.4px);
    font-family: 'JetBrains Mono', monospace;
    font-weight: 500;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    text-shadow: 0 0 8px rgba(0, 229, 255, 0.3)
}

.clock>div:nth-of-type(3) .clock-face>* {
    color: rgba(255, 78, 203, 0.55);
    filter: blur(0.4px);
    font-family: 'JetBrains Mono', monospace;
    font-weight: 500;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    text-shadow: 0 0 8px rgba(255, 78, 203, 0.3)
}

.clock>div:nth-of-type(4) .clock-face>* {
    color: rgba(255, 215, 64, 0.6);
    filter: blur(0.4px);
    font-family: 'JetBrains Mono', monospace;
    font-weight: 500;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    text-shadow: 0 0 8px rgba(255, 215, 64, 0.3)
}

.clock>div:nth-of-type(5) .clock-face>* {
    color: rgba(184, 255, 58, 0.55);
    filter: blur(0.4px);
    font-family: 'JetBrains Mono', monospace;
    font-weight: 500;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    text-shadow: 0 0 8px rgba(184, 255, 58, 0.3)
}

.clock>div:nth-of-type(6) .clock-face>* {
    color: rgba(255, 140, 66, 0.6);
    filter: blur(0.4px);
    font-family: 'JetBrains Mono', monospace;
    font-weight: 500;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    text-shadow: 0 0 8px rgba(255, 140, 66, 0.3)
}

.clock>div:nth-of-type(7) .clock-face>* {
    color: rgba(103, 232, 249, 0.6);
    filter: blur(0.3px);
    font-family: 'JetBrains Mono', monospace;
    font-weight: 500;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    text-shadow: 0 0 8px rgba(103, 232, 249, 0.3)
}

.clock-face>* {
    position: absolute;
    transform-origin: center;
    white-space: nowrap
}

/* Active number with neon flicker */
.clock-face>*.active {
    filter: blur(0px) !important;
    font-weight: 800 !important;
    transform: translate(-50%, -50%) rotate(var(--r)) scale(1.3) !important;
    animation: neonFlicker 2s ease-in-out infinite
}

@keyframes neonFlicker {

    0%,
    100% {
        text-shadow: 0 0 10px currentColor, 0 0 25px currentColor, 0 0 50px currentColor
    }

    50% {
        text-shadow: 0 0 5px currentColor, 0 0 15px currentColor
    }

    92% {
        text-shadow: 0 0 10px currentColor, 0 0 25px currentColor, 0 0 50px currentColor
    }

    93% {
        text-shadow: 0 0 2px currentColor
    }

    94% {
        text-shadow: 0 0 10px currentColor, 0 0 25px currentColor, 0 0 50px currentColor
    }
}

.clock>div:nth-of-type(1) .clock-face>*.active {
    color: #ff6b6b !important
}

.clock>div:nth-of-type(2) .clock-face>*.active {
    color: #00e5ff !important
}

.clock>div:nth-of-type(3) .clock-face>*.active {
    color: #ff4ecb !important
}

.clock>div:nth-of-type(4) .clock-face>*.active {
    color: #ffd740 !important
}

.clock>div:nth-of-type(5) .clock-face>*.active {
    color: #b8ff3a !important
}

.clock>div:nth-of-type(6) .clock-face>*.active {
    color: #ff8c42 !important
}

.clock>div:nth-of-type(7) .clock-face>*.active {
    color: #67e8f9 !important
}

.center-btn {
    position: absolute;
    inset: 0;
    margin: auto;
    z-index: 100;
    width: 48px;
    height: 48px;
    display: grid;
    place-content: center;
    background: linear-gradient(145deg, var(--bg-3), var(--bg-2));
    border: 1px solid var(--glass-border-2);
    color: white;
    border-radius: 50%;
    cursor: pointer;
    font-size: 1.2rem;
    transition: all var(--transition-med);
    outline: none;
    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5);
    -webkit-tap-highlight-color: transparent;
    animation: centerPulse 3s ease-in-out infinite
}

@keyframes centerPulse {

    0%,
    100% {
        box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5)
    }

    50% {
        box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5), 0 0 30px var(--accent-glow)
    }
}

.center-btn:hover,
.center-btn:focus-visible {
    border-color: var(--accent);
    box-shadow: 0 0 35px var(--accent-glow);
    transform: scale(1.12)
}

.center-btn:active {
    transform: scale(0.95)
}

.center-btn::before,
.center-btn::after {
    content: ":";
    color: var(--accent);
    position: absolute;
    z-index: 199;
    top: 50%;
    right: 0;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.7rem;
    font-weight: 600;
    animation: blink 1s ease-in-out infinite
}

.center-btn::before {
    translate: min(24vmin, 170px) -8px
}

.center-btn::after {
    translate: min(20vmin, 142px) -8px
}

/* ═══ MODALS ═══ */
.lang-overlay {
    position: fixed;
    inset: 0;
    z-index: 600;
    background: rgba(0, 0, 0, 0.65);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    opacity: 0;
    visibility: hidden;
    transition: all var(--transition-med);
    display: grid;
    place-items: center;
    padding: 20px
}

.lang-overlay.open {
    opacity: 1;
    visibility: visible
}

.lang-modal {
    width: min(460px, 100%);
    max-height: min(600px, 85dvh);
    background: var(--bg-2);
    border: 1px solid var(--glass-border-2);
    border-radius: 24px;
    overflow: hidden;
    transform: translateY(20px) scale(0.95);
    opacity: 0;
    transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
    display: flex;
    flex-direction: column;
    box-shadow: 0 25px 80px rgba(0, 0, 0, 0.6), 0 0 60px var(--accent-glow)
}

.lang-overlay.open .lang-modal {
    transform: translateY(0) scale(1);
    opacity: 1
}

.lang-modal-header {
    padding: 20px 20px 0;
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-shrink: 0
}

.lang-modal-title {
    font-size: 1.1rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 10px;
    color: var(--color-cyan)
}

.lang-modal-title span {
    font-size: 1.4rem
}

.lang-close {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: var(--glass);
    border: 1px solid var(--glass-border);
    color: var(--color-coral);
    cursor: pointer;
    display: grid;
    place-content: center;
    transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    outline: none;
    font-size: 1rem
}

.lang-close:hover {
    background: rgba(244, 63, 94, 0.1);
    border-color: #f43f5e;
    color: #f43f5e;
    transform: rotate(180deg)
}

.lang-search-wrap {
    padding: 16px 20px;
    flex-shrink: 0;
    position: relative
}

.lang-search {
    width: 100%;
    padding: 11px 16px 11px 42px;
    background: var(--glass-2);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-sm);
    color: var(--color-cyan);
    font-family: inherit;
    font-size: 0.9rem;
    font-weight: 500;
    outline: none;
    transition: all var(--transition-fast)
}

.lang-search:focus {
    border-color: var(--accent);
    box-shadow: 0 0 0 3px var(--accent-soft), 0 0 20px var(--accent-soft)
}

.lang-search::placeholder {
    color: var(--color-magenta);
    opacity: 0.5
}

.lang-search-icon {
    position: absolute;
    left: 34px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--color-gold);
    font-size: 1rem;
    pointer-events: none
}

.lang-current {
    margin: 0 20px 12px;
    padding: 12px 16px;
    background: var(--accent-soft);
    border: 1px solid var(--accent);
    border-radius: var(--radius-sm);
    display: flex;
    align-items: center;
    gap: 12px;
    flex-shrink: 0
}

.lang-current-flag {
    font-size: 1.8rem
}

.lang-current-info {
    flex: 1
}

.lang-current-name {
    font-weight: 700;
    font-size: 0.95rem;
    color: var(--accent)
}

.lang-current-code {
    font-size: 0.68rem;
    color: var(--color-lime);
    font-family: 'JetBrains Mono', monospace;
    margin-top: 2px
}

.lang-current-badge {
    padding: 4px 10px;
    background: var(--accent);
    color: white;
    border-radius: 20px;
    font-size: 0.6rem;
    font-weight: 700;
    letter-spacing: 1px;
    text-transform: uppercase;
    animation: badgePulse 2s ease-in-out infinite
}

@keyframes badgePulse {

    0%,
    100% {
        transform: scale(1)
    }

    50% {
        transform: scale(1.05)
    }
}

.lang-list {
    flex: 1;
    overflow-y: auto;
    padding: 0 12px 16px;
    display: flex;
    flex-direction: column;
    gap: 4px
}

.lang-item {
    display: flex;
    align-items: center;
    gap: 14px;
    padding: 12px 14px;
    border-radius: var(--radius-sm);
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    border: 1px solid transparent;
    position: relative;
    -webkit-tap-highlight-color: transparent;
    overflow: hidden
}

.lang-item:hover {
    background: var(--glass-hover);
    border-color: var(--glass-border-2);
    transform: translateX(4px)
}

.lang-item.selected {
    background: var(--accent-soft);
    border-color: var(--accent)
}

.lang-item.selected::after {
    content: '✓';
    position: absolute;
    right: 14px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--accent);
    font-weight: 800;
    font-size: 1.1rem
}

.lang-item:active {
    transform: scale(0.98)
}

.lang-item-flag {
    font-size: 1.6rem;
    width: 36px;
    height: 36px;
    display: grid;
    place-content: center;
    background: var(--glass-2);
    border-radius: 10px;
    flex-shrink: 0;
    transition: transform 0.3s
}

.lang-item:hover .lang-item-flag {
    transform: scale(1.15) rotate(5deg)
}

.lang-item-name {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--color-cyan);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis
}

.lang-item-code {
    font-size: 0.68rem;
    color: var(--color-magenta);
    font-family: 'JetBrains Mono', monospace;
    margin-top: 1px
}

.lang-item.hidden {
    display: none
}

.lang-empty {
    text-align: center;
    padding: 30px;
    color: var(--color-coral);
    font-size: 0.88rem
}

/* ═══ INFO CARDS with 3D tilt ═══ */
.info-row {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
    gap: 8px;
    width: 100%
}

.info-card {
    background: var(--glass);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-sm);
    padding: 14px 10px;
    text-align: center;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
    opacity: 0;
    animation: cardSlideIn 0.6s ease-out forwards;
    transform-style: preserve-3d;
    perspective: 500px
}

.info-card:nth-child(1) {
    animation-delay: 0.8s
}

.info-card:nth-child(2) {
    animation-delay: 0.9s
}

.info-card:nth-child(3) {
    animation-delay: 1.0s
}

.info-card:nth-child(4) {
    animation-delay: 1.1s
}

.info-card:nth-child(5) {
    animation-delay: 1.2s
}

.info-card:nth-child(6) {
    animation-delay: 1.3s
}

@keyframes cardSlideIn {
    from {
        opacity: 0;
        transform: translateY(30px) rotateX(10deg)
    }

    to {
        opacity: 1;
        transform: translateY(0) rotateX(0)
    }
}

.info-card::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, var(--accent-soft), transparent);
    opacity: 0;
    transition: opacity var(--transition-med)
}

.info-card::after {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(135deg, transparent 40%, rgba(255, 255, 255, 0.03) 50%, transparent 60%);
    transform: rotate(45deg);
    transition: transform 0.6s;
    pointer-events: none
}

.info-card:hover {
    border-color: var(--accent);
    transform: translateY(-5px) scale(1.02)
}

.info-card:hover::before {
    opacity: 1
}

.info-card:hover::after {
    transform: rotate(45deg) translateX(100%)
}

.info-card .label {
    font-size: 0.62rem;
    text-transform: uppercase;
    letter-spacing: 2px;
    color: var(--color-magenta);
    margin-bottom: 5px;
    position: relative;
    font-weight: 500
}

.info-card .value {
    font-size: 1rem;
    font-weight: 700;
    color: var(--accent);
    font-family: 'JetBrains Mono', monospace;
    position: relative
}

/* ═══ TOOLS ═══ */
.tools-section {
    width: 100%;
    animation: fadeUp 0.8s ease-out 0.9s both
}

.tools-tabs {
    display: flex;
    gap: 3px;
    background: var(--glass);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius);
    padding: 4px;
    margin-bottom: 18px;
    flex-wrap: wrap
}

.tools-tab {
    flex: 1;
    padding: 10px 8px;
    border: none;
    border-radius: calc(var(--radius) - 4px);
    background: transparent;
    color: var(--color-gold);
    font-family: inherit;
    font-size: 0.8rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.35s cubic-bezier(0.4, 0, 0.2, 1);
    outline: none;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    -webkit-tap-highlight-color: transparent;
    min-width: 80px;
    position: relative;
    overflow: hidden
}

.tools-tab svg {
    width: 14px;
    height: 14px;
    fill: none;
    stroke: currentColor;
    stroke-width: 2;
    stroke-linecap: round;
    stroke-linejoin: round;
    transition: transform 0.3s
}

.tools-tab:hover svg {
    transform: rotate(15deg) scale(1.1)
}

.tools-tab.active {
    background: var(--accent);
    color: white;
    box-shadow: 0 4px 20px var(--accent-glow)
}

.tools-tab:not(.active):hover {
    color: var(--color-cyan);
    background: var(--glass-hover)
}

.tools-panel {
    display: none;
    animation: panelSwitch 0.4s ease
}

.tools-panel.active {
    display: block
}

@keyframes panelSwitch {
    from {
        opacity: 0;
        transform: translateY(10px) scale(0.98)
    }

    to {
        opacity: 1;
        transform: translateY(0) scale(1)
    }
}

.sw-display,
.timer-display {
    font-family: 'JetBrains Mono', monospace;
    font-size: clamp(1.8rem, 5.5vw, 3.2rem);
    text-align: center;
    color: var(--color-cyan);
    padding: 18px 0;
    font-weight: 400;
    transition: all 0.3s
}

.sw-display .ms {
    font-size: 0.45em;
    color: var(--color-magenta)
}

.sw-controls,
.timer-controls {
    display: flex;
    gap: 8px;
    justify-content: center;
    flex-wrap: wrap
}

.tool-btn {
    padding: 10px 22px;
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-sm);
    background: var(--glass);
    color: var(--color-gold);
    font-family: inherit;
    font-size: 0.85rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    outline: none;
    -webkit-tap-highlight-color: transparent;
    display: inline-flex;
    align-items: center;
    gap: 6px;
    position: relative;
    overflow: hidden
}

.tool-btn:hover {
    background: var(--glass-hover);
    border-color: rgba(255, 255, 255, 0.15);
    color: var(--color-cyan);
    transform: translateY(-2px)
}

.tool-btn:active {
    transform: scale(0.96) translateY(0)
}

.tool-btn.start {
    background: var(--accent-soft);
    border-color: var(--accent);
    color: var(--accent)
}

.tool-btn.stop {
    background: rgba(244, 63, 94, 0.1);
    border-color: #f43f5e;
    color: #f43f5e
}

.timer-inputs {
    display: flex;
    gap: 8px;
    justify-content: center;
    align-items: center;
    margin-bottom: 14px;
    flex-wrap: wrap
}

.timer-input-group {
    text-align: center
}

.timer-input {
    width: 56px;
    padding: 10px 4px;
    text-align: center;
    background: var(--glass-2);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-xs);
    color: var(--color-cyan);
    font-family: 'JetBrains Mono', monospace;
    font-size: 1.1rem;
    font-weight: 600;
    outline: none;
    transition: all var(--transition-fast)
}

.timer-input:focus {
    border-color: var(--accent);
    box-shadow: 0 0 0 3px var(--accent-soft);
    transform: scale(1.05)
}

.timer-input-label {
    font-size: 0.62rem;
    color: var(--color-magenta);
    text-transform: uppercase;
    letter-spacing: 1.5px;
    margin-top: 4px;
    font-weight: 500
}

.timer-sep {
    color: var(--accent);
    font-size: 1.2rem;
    padding-bottom: 18px;
    font-weight: 700;
    animation: blink 1s ease-in-out infinite
}

.laps-list {
    max-height: 180px;
    overflow-y: auto;
    margin-top: 14px;
    border-radius: var(--radius-sm)
}

.lap-item {
    display: flex;
    justify-content: space-between;
    padding: 8px 14px;
    border-bottom: 1px solid var(--glass-border);
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.78rem;
    color: var(--color-gold);
    animation: lapSlide 0.3s ease-out
}

.lap-item:first-child {
    color: var(--accent);
    font-weight: 700
}

@keyframes lapSlide {
    from {
        opacity: 0;
        transform: translateX(-20px)
    }

    to {
        opacity: 1;
        transform: translateX(0)
    }
}

/* ═══ WORLD CLOCKS ═══ */
.world-section {
    width: 100%;
    animation: fadeUp 0.8s ease-out 1s both
}

.world-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    gap: 8px
}

.world-card {
    background: var(--glass);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-sm);
    padding: 14px 10px;
    text-align: center;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
    opacity: 0;
    animation: worldCardIn 0.5s ease-out forwards
}

.world-card:nth-child(1) {
    animation-delay: 1.0s
}

.world-card:nth-child(2) {
    animation-delay: 1.1s
}

.world-card:nth-child(3) {
    animation-delay: 1.2s
}

.world-card:nth-child(4) {
    animation-delay: 1.3s
}

.world-card:nth-child(5) {
    animation-delay: 1.4s
}

.world-card:nth-child(6) {
    animation-delay: 1.5s
}

.world-card:nth-child(7) {
    animation-delay: 1.6s
}

.world-card:nth-child(8) {
    animation-delay: 1.7s
}

@keyframes worldCardIn {
    from {
        opacity: 0;
        transform: scale(0.8) rotateY(20deg)
    }

    to {
        opacity: 1;
        transform: scale(1) rotateY(0)
    }
}

.world-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, var(--accent), transparent);
    opacity: 0;
    transition: opacity var(--transition-med)
}

.world-card::after {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at 50% 0%, var(--accent-soft), transparent 70%);
    opacity: 0;
    transition: opacity 0.4s
}

.world-card:hover {
    border-color: var(--accent);
    transform: translateY(-4px) scale(1.03)
}

.world-card:hover::before {
    opacity: 1
}

.world-card:hover::after {
    opacity: 1
}

.world-city {
    font-size: 0.68rem;
    color: var(--color-lime);
    text-transform: uppercase;
    letter-spacing: 1.5px;
    margin-bottom: 5px;
    font-weight: 600
}

.world-time {
    font-family: 'JetBrains Mono', monospace;
    font-size: 1.15rem;
    font-weight: 700;
    color: var(--accent);
    transition: all 0.3s
}

.world-offset {
    font-size: 0.6rem;
    color: var(--color-magenta);
    margin-top: 3px;
    font-family: 'JetBrains Mono', monospace;
    font-weight: 500
}

/* ═══ PROGRESS with shimmer ═══ */
.progress-section {
    width: 100%;
    animation: fadeUp 0.8s ease-out 1.1s both
}

.progress-row {
    display: flex;
    flex-direction: column;
    gap: 8px
}

.progress-item {
    background: var(--glass);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-sm);
    padding: 14px;
    transition: all var(--transition-med)
}

.progress-item:hover {
    border-color: var(--accent);
    transform: translateX(4px)
}

.progress-header {
    display: flex;
    justify-content: space-between;
    margin-bottom: 8px
}

.progress-label {
    font-size: 0.76rem;
    color: var(--color-gold);
    font-weight: 500
}

.progress-value {
    font-size: 0.76rem;
    color: var(--accent);
    font-family: 'JetBrains Mono', monospace;
    font-weight: 700
}

.progress-track {
    height: 6px;
    background: rgba(255, 255, 255, 0.06);
    border-radius: 3px;
    overflow: hidden
}

.progress-fill {
    height: 100%;
    border-radius: 3px;
    background: linear-gradient(90deg, var(--accent), var(--accent-2));
    transition: width 1.2s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 0 12px var(--accent-glow);
    position: relative
}

.progress-fill::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    width: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    animation: shimmer 2s ease-in-out infinite
}

@keyframes shimmer {
    0% {
        transform: translateX(-100%)
    }

    100% {
        transform: translateX(100%)
    }
}

/* ═══ Battery ═══ */
.battery-section {
    width: 100%;
    animation: fadeUp 0.8s ease-out 1.15s both
}

.battery-card {
    background: var(--glass);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-sm);
    padding: 18px;
    display: flex;
    align-items: center;
    gap: 18px;
    transition: all var(--transition-med)
}

.battery-card:hover {
    border-color: var(--accent);
    transform: scale(1.01)
}

.battery-icon {
    width: 60px;
    height: 30px;
    border: 2px solid var(--color-lime);
    border-radius: 4px;
    position: relative;
    flex-shrink: 0;
    animation: batteryGlow 3s ease-in-out infinite
}

@keyframes batteryGlow {

    0%,
    100% {
        box-shadow: 0 0 5px rgba(184, 255, 58, 0.2)
    }

    50% {
        box-shadow: 0 0 15px rgba(184, 255, 58, 0.4)
    }
}

.battery-icon::after {
    content: '';
    position: absolute;
    right: -6px;
    top: 50%;
    transform: translateY(-50%);
    width: 4px;
    height: 12px;
    background: var(--color-lime);
    border-radius: 0 2px 2px 0
}

.battery-fill-inner {
    height: 100%;
    border-radius: 2px;
    transition: width 0.5s, background 0.5s;
    position: relative;
    overflow: hidden
}

.battery-fill-inner::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    animation: shimmer 2s ease-in-out infinite
}

.battery-info {
    flex: 1
}

.battery-pct {
    font-size: 1.4rem;
    font-weight: 700;
    font-family: 'JetBrains Mono', monospace;
    color: var(--color-lime)
}

.battery-status {
    font-size: 0.72rem;
    color: var(--color-gold);
    margin-top: 2px
}

/* ═══ Quote ═══ */
.quote-section {
    width: 100%;
    animation: fadeUp 0.8s ease-out 1.2s both
}

.quote-card {
    background: var(--glass);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-sm);
    padding: 20px;
    text-align: center;
    position: relative;
    overflow: hidden;
    transition: all var(--transition-med)
}

.quote-card:hover {
    border-color: var(--accent);
    transform: scale(1.01)
}

.quote-card::before {
    content: '"';
    position: absolute;
    top: -10px;
    left: 10px;
    font-size: 5rem;
    color: var(--accent);
    opacity: 0.08;
    font-family: Georgia, serif;
    animation: quoteFloat 6s ease-in-out infinite
}

@keyframes quoteFloat {

    0%,
    100% {
        transform: translateY(0) rotate(0deg)
    }

    50% {
        transform: translateY(-8px) rotate(3deg)
    }
}

.quote-text {
    font-size: 0.95rem;
    font-style: italic;
    color: var(--color-coral);
    line-height: 1.7;
    position: relative;
    z-index: 1;
    transition: all 0.5s
}

.quote-text.changing {
    opacity: 0;
    transform: translateY(10px)
}

.quote-author {
    font-size: 0.72rem;
    color: var(--color-cyan);
    margin-top: 10px;
    font-weight: 600;
    position: relative;
    z-index: 1;
    transition: all 0.5s 0.1s
}

.quote-author.changing {
    opacity: 0
}

.quote-refresh {
    margin-top: 12px;
    padding: 6px 16px;
    border: 1px solid var(--glass-border);
    border-radius: 20px;
    background: var(--glass);
    color: var(--color-magenta);
    font-family: inherit;
    font-size: 0.72rem;
    cursor: pointer;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    outline: none;
    position: relative;
    overflow: hidden
}

.quote-refresh:hover {
    border-color: var(--accent);
    color: var(--accent);
    background: var(--accent-soft);
    transform: scale(1.05)
}

.quote-refresh:active {
    transform: scale(0.95)
}

/* ═══ Alarm ═══ */
.alarm-section {
    width: 100%;
    animation: fadeUp 0.8s ease-out 1.25s both
}

.alarm-card {
    background: var(--glass);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-sm);
    padding: 16px;
    transition: all var(--transition-med)
}

.alarm-card:hover {
    border-color: var(--accent)
}

.alarm-set {
    display: flex;
    gap: 8px;
    align-items: center;
    flex-wrap: wrap;
    justify-content: center
}

.alarm-input {
    width: 64px;
    padding: 10px 4px;
    text-align: center;
    background: var(--glass-2);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-xs);
    color: var(--color-cyan);
    font-family: 'JetBrains Mono', monospace;
    font-size: 1.1rem;
    font-weight: 600;
    outline: none;
    transition: all var(--transition-fast)
}

.alarm-input:focus {
    border-color: var(--accent);
    box-shadow: 0 0 0 3px var(--accent-soft);
    transform: scale(1.05)
}

.alarm-list {
    margin-top: 12px;
    display: flex;
    flex-direction: column;
    gap: 6px
}

.alarm-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 10px 14px;
    background: var(--glass-2);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-xs);
    font-family: 'JetBrains Mono', monospace;
    animation: alarmSlide 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)
}

@keyframes alarmSlide {
    from {
        opacity: 0;
        transform: translateX(-30px) scale(0.9)
    }

    to {
        opacity: 1;
        transform: translateX(0) scale(1)
    }
}

.alarm-item-time {
    font-size: 1rem;
    font-weight: 700;
    color: var(--color-gold)
}

.alarm-item-del {
    background: none;
    border: none;
    color: var(--color-coral);
    cursor: pointer;
    font-size: 1rem;
    padding: 4px 8px;
    border-radius: 50%;
    transition: all 0.3s
}

.alarm-item-del:hover {
    background: rgba(244, 63, 94, 0.15);
    transform: rotate(90deg) scale(1.2)
}

.alarm-ampm-select {
    padding: 10px 8px;
    background: var(--glass-2);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-xs);
    color: var(--color-coral);
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.9rem;
    font-weight: 600;
    outline: none;
    cursor: pointer
}

/* ═══ Date Calculator ═══ */
.datecalc-panel {
    padding: 16px 0
}

.datecalc-row {
    display: flex;
    gap: 10px;
    align-items: center;
    flex-wrap: wrap;
    justify-content: center;
    margin-bottom: 14px
}

.datecalc-input {
    padding: 10px 12px;
    background: var(--glass-2);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-xs);
    color: var(--color-cyan);
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.9rem;
    outline: none;
    transition: all var(--transition-fast);
    width: 160px
}

.datecalc-input:focus {
    border-color: var(--accent);
    box-shadow: 0 0 0 3px var(--accent-soft)
}

.datecalc-result {
    text-align: center;
    padding: 14px;
    background: var(--glass);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-sm);
    font-family: 'JetBrains Mono', monospace;
    color: var(--color-lime);
    font-size: 0.95rem;
    transition: all 0.4s
}

/* ═══ Pomodoro ═══ */
.pomo-display {
    font-family: 'JetBrains Mono', monospace;
    font-size: clamp(2rem, 6vw, 3.5rem);
    text-align: center;
    color: var(--color-coral);
    padding: 18px 0;
    font-weight: 400;
    transition: all 0.3s
}

.pomo-label {
    text-align: center;
    font-size: 0.82rem;
    color: var(--color-magenta);
    margin-bottom: 10px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 2px;
    animation: colorShift 8s ease-in-out infinite
}

.pomo-controls {
    display: flex;
    gap: 8px;
    justify-content: center;
    flex-wrap: wrap
}

.pomo-stats {
    display: flex;
    justify-content: center;
    gap: 16px;
    margin-top: 14px
}

.pomo-stat {
    text-align: center
}

.pomo-stat-val {
    font-family: 'JetBrains Mono', monospace;
    font-size: 1.2rem;
    font-weight: 700;
    color: var(--accent)
}

.pomo-stat-label {
    font-size: 0.62rem;
    color: var(--color-gold);
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-top: 2px
}

.pulse-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: var(--color-lime);
    display: inline-block;
    animation: pulse-anim 2s ease-in-out infinite;
    margin-right: 6px;
    vertical-align: middle
}

@keyframes pulse-anim {

    0%,
    100% {
        opacity: 1;
        transform: scale(1);
        box-shadow: 0 0 0 0 rgba(184, 255, 58, 0.4)
    }

    50% {
        opacity: 0.7;
        transform: scale(0.8);
        box-shadow: 0 0 0 8px rgba(184, 255, 58, 0)
    }
}

/* ═══ MOUSE TRAIL ═══ */
.mouse-trail {
    position: fixed;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    pointer-events: none;
    z-index: 9998;
    mix-blend-mode: screen;
    transition: opacity 0.3s
}

/* ═══ PARTICLE BURST ═══ */
.particle-burst {
    position: fixed;
    pointer-events: none;
    z-index: 9997
}

.burst-particle {
    position: absolute;
    width: 4px;
    height: 4px;
    border-radius: 50%;
    animation: burstAnim 0.8s ease-out forwards
}

@keyframes burstAnim {
    0% {
        opacity: 1;
        transform: translate(0, 0) scale(1)
    }

    100% {
        opacity: 0;
        transform: translate(var(--bx), var(--by)) scale(0)
    }
}

.footer {
    width: 100%;
    text-align: center;
    padding: 28px 16px 12px;
    color: var(--color-magenta);
    font-size: 0.68rem;
    letter-spacing: 1.5px;
    font-weight: 400;
    animation: fadeUp 0.8s ease-out 1.3s both
}

.footer a {
    color: var(--accent);
    text-decoration: none;
    font-weight: 600;
    transition: all 0.3s;
    position: relative
}

.footer a::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 0;
    height: 1px;
    background: var(--accent);
    transition: width 0.3s
}

.footer a:hover::after {
    width: 100%
}

.footer a:hover {
    text-shadow: 0 0 10px var(--accent-glow)
}

.scroll-top {
    position: fixed;
    bottom: 24px;
    right: 16px;
    z-index: 99;
    width: 42px;
    height: 42px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--accent), var(--accent-2));
    color: white;
    border: none;
    cursor: pointer;
    display: grid;
    place-content: center;
    opacity: 0;
    visibility: hidden;
    transform: translateY(10px) rotate(180deg);
    transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
    box-shadow: 0 4px 24px var(--accent-glow)
}

.scroll-top.visible {
    opacity: 1;
    visibility: visible;
    transform: translateY(0) rotate(0)
}

.scroll-top:hover {
    transform: translateY(-3px) scale(1.1)
}

.scroll-top:active {
    transform: scale(0.9)
}

.scroll-top svg {
    width: 18px;
    height: 18px;
    fill: none;
    stroke: currentColor;
    stroke-width: 2.5;
    stroke-linecap: round;
    stroke-linejoin: round
}

.fullscreen-btn {
    position: fixed;
    bottom: 24px;
    left: 16px;
    z-index: 99;
    width: 42px;
    height: 42px;
    border-radius: 50%;
    background: var(--glass-2);
    border: 1px solid var(--glass-border);
    color: var(--color-gold);
    cursor: pointer;
    display: none;
    place-content: center;
    transition: all var(--transition-med)
}

.fullscreen-btn:hover {
    border-color: var(--accent);
    color: var(--accent);
    background: var(--accent-soft);
    transform: scale(1.1)
}

.fullscreen-btn svg {
    width: 16px;
    height: 16px;
    fill: none;
    stroke: currentColor;
    stroke-width: 2;
    stroke-linecap: round;
    stroke-linejoin: round
}

.toast-container {
    position: fixed;
    top: calc(var(--topbar-h) + 10px);
    left: 50%;
    transform: translateX(-50%);
    z-index: 9999;
    display: flex;
    flex-direction: column;
    gap: 8px;
    align-items: center;
    pointer-events: none;
    width: max-content;
    max-width: calc(100% - 32px)
}

.toast {
    padding: 10px 22px;
    background: var(--bg-3);
    border: 1px solid var(--accent);
    border-radius: var(--radius);
    color: var(--color-cyan);
    font-size: 0.82rem;
    font-weight: 500;
    box-shadow: 0 8px 40px rgba(0, 0, 0, 0.5), 0 0 30px var(--accent-glow);
    animation: toastIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1), toastOut 0.5s ease 2.5s forwards;
    pointer-events: auto;
    backdrop-filter: blur(12px);
    display: flex;
    align-items: center;
    gap: 8px
}

.toast-icon {
    font-size: 1rem;
    animation: toastIconPop 0.5s cubic-bezier(0.34, 1.56, 0.64, 1)
}

@keyframes toastIconPop {
    from {
        transform: scale(0) rotate(-180deg)
    }

    to {
        transform: scale(1) rotate(0)
    }
}

@keyframes toastIn {
    from {
        opacity: 0;
        transform: translateY(-30px) scale(0.8) rotateX(20deg)
    }

    to {
        opacity: 1;
        transform: translateY(0) scale(1) rotateX(0)
    }
}

@keyframes toastOut {
    to {
        opacity: 0;
        transform: translateY(-15px) scale(0.9)
    }
}

.panel-overlay {
    position: fixed;
    inset: 0;
    z-index: 500;
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    opacity: 0;
    visibility: hidden;
    transition: all var(--transition-med)
}

.panel-overlay.open {
    opacity: 1;
    visibility: visible
}

.panel {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    z-index: 501;
    width: min(380px, 90vw);
    background: var(--bg-2);
    border-left: 1px solid var(--glass-border);
    transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    flex-direction: column;
    overflow-y: auto;
    transform: translateX(100%);
    box-shadow: -20px 0 60px rgba(0, 0, 0, 0.3)
}

.panel.open {
    transform: translateX(0)
}

.panel-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 16px 18px;
    border-bottom: 1px solid var(--glass-border);
    position: sticky;
    top: 0;
    background: var(--bg-2);
    z-index: 2
}

.panel-header h2 {
    font-size: 1.05rem;
    font-weight: 600;
    color: var(--color-cyan)
}

.panel-body {
    padding: 18px;
    display: flex;
    flex-direction: column;
    gap: 24px;
    flex: 1
}

.panel-section h3 {
    font-size: 0.68rem;
    text-transform: uppercase;
    letter-spacing: 3.5px;
    color: var(--color-lime);
    margin-bottom: 10px;
    font-weight: 600
}

.theme-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 6px
}

.theme-btn {
    padding: 8px 4px;
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-sm);
    background: var(--glass);
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 5px;
    outline: none;
    color: var(--color-gold);
    font-family: inherit;
    font-size: 0.68rem;
    font-weight: 500;
    -webkit-tap-highlight-color: transparent
}

.theme-btn:hover {
    background: var(--glass-hover);
    transform: translateY(-2px)
}

.theme-btn:active {
    transform: scale(0.95)
}

.theme-btn.active {
    border-color: var(--accent);
    background: var(--accent-soft);
    color: var(--accent)
}

.theme-dot {
    width: 22px;
    height: 22px;
    border-radius: 50%;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1)
}

.theme-btn:hover .theme-dot {
    transform: scale(1.2) rotate(180deg);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4)
}

.toggle-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 10px 0;
    gap: 12px
}

.toggle-row+.toggle-row {
    border-top: 1px solid var(--glass-border)
}

.toggle-label {
    font-size: 0.88rem;
    color: var(--color-cyan);
    font-weight: 500
}

.toggle-sub {
    font-size: 0.65rem;
    color: var(--color-magenta);
    margin-top: 2px;
    font-weight: 400
}

.toggle {
    position: relative;
    width: 44px;
    height: 26px;
    background: rgba(255, 255, 255, 0.08);
    border-radius: 13px;
    cursor: pointer;
    transition: background 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    flex-shrink: 0;
    -webkit-tap-highlight-color: transparent
}

.toggle.on {
    background: var(--accent)
}

.toggle::after {
    content: "";
    position: absolute;
    top: 3px;
    left: 3px;
    width: 20px;
    height: 20px;
    background: white;
    border-radius: 50%;
    transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.25)
}

.toggle.on::after {
    transform: translateX(18px)
}

.format-selector {
    display: flex;
    gap: 3px;
    background: var(--glass);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-sm);
    padding: 3px
}

.format-btn {
    flex: 1;
    padding: 9px;
    border: none;
    border-radius: calc(var(--radius-sm) - 3px);
    background: transparent;
    color: var(--color-gold);
    font-family: inherit;
    font-size: 0.8rem;
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-med);
    outline: none
}

.format-btn.active {
    background: var(--accent);
    color: white;
    box-shadow: 0 2px 16px var(--accent-glow)
}

/* ═══ SCROLL REVEAL ═══ */
.reveal {
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1)
}

.reveal.revealed {
    opacity: 1;
    transform: translateY(0)
}

.reveal-left {
    opacity: 0;
    transform: translateX(-40px);
    transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1)
}

.reveal-left.revealed {
    opacity: 1;
    transform: translateX(0)
}

.reveal-right {
    opacity: 0;
    transform: translateX(40px);
    transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1)
}

.reveal-right.revealed {
    opacity: 1;
    transform: translateX(0)
}

.reveal-scale {
    opacity: 0;
    transform: scale(0.8);
    transition: all 0.8s cubic-bezier(0.34, 1.56, 0.64, 1)
}

.reveal-scale.revealed {
    opacity: 1;
    transform: scale(1)
}

@media(max-width:680px) {
    :root {
        --clock-size: min(86vmin, 420px);
        --bottombar-h: 58px
    }

    .bottombar {
        display: flex
    }

    .topbar-right .btn:not(.btn-icon) span {
        display: none
    }

    .topbar-right .btn:not(.btn-icon) {
        padding: 7px;
        width: 34px;
        height: 34px;
        display: grid;
        place-content: center
    }

    .scroll-top {
        bottom: calc(var(--bottombar-h) + var(--safe-bottom) + 12px)
    }

    .fullscreen-btn {
        display: grid;
        bottom: calc(var(--bottombar-h) + var(--safe-bottom) + 12px)
    }

    .center-btn {
        width: 40px;
        height: 40px;
        font-size: 1rem
    }

    .center-btn::before {
        translate: min(26vmin, 120px) -6px;
        font-size: 0.55rem
    }

    .center-btn::after {
        translate: min(22vmin, 100px) -6px;
        font-size: 0.55rem
    }

    .world-grid {
        grid-template-columns: repeat(auto-fill, minmax(115px, 1fr))
    }

    .info-row {
        grid-template-columns: repeat(3, 1fr)
    }

    .main {
        gap: 22px
    }

    .mouse-trail {
        display: none !important
    }
}

@media(max-width:420px) {
    :root {
        --clock-size: min(90vmin, 340px)
    }

    .main {
        padding-top: calc(var(--topbar-h) + 12px);
        gap: 18px
    }

    .topbar {
        padding: 0 10px
    }

    .topbar-brand {
        font-size: 0.82rem
    }

    .topbar-brand span {
        display: none
    }

    .center-btn {
        width: 34px;
        height: 34px;
        font-size: 0.9rem
    }

    .center-btn::before {
        translate: min(28vmin, 100px) -5px;
        font-size: 0.5rem
    }

    .center-btn::after {
        translate: min(24vmin, 84px) -5px;
        font-size: 0.5rem
    }

    .info-row {
        grid-template-columns: repeat(2, 1fr);
        gap: 6px
    }

    .info-card {
        padding: 10px 8px
    }

    .info-card .label {
        font-size: 0.52rem
    }

    .info-card .value {
        font-size: 0.82rem
    }

    .world-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 6px
    }

    .world-card {
        padding: 10px 8px
    }

    .world-time {
        font-size: 1rem
    }

    .tools-tab {
        font-size: 0.68rem;
        padding: 8px 6px;
        min-width: 60px
    }

    .clock>div:nth-of-type(1) {
        --cf: 0.34rem
    }

    .clock>div:nth-of-type(2) {
        --cf: 0.4rem
    }

    .clock>div:nth-of-type(3) {
        --cf: 0.4rem
    }

    .clock>div:nth-of-type(4) {
        --cf: 0.42rem
    }

    .clock>div:nth-of-type(5) {
        --cf: 0.38rem
    }

    .clock>div:nth-of-type(6) {
        --cf: 0.36rem
    }

    .clock>div:nth-of-type(7) {
        --cf: 0.32rem
    }
}

@media(max-width:340px) {
    :root {
        --clock-size: min(92vmin, 280px)
    }

    .center-btn {
        width: 28px;
        height: 28px;
        font-size: 0.75rem
    }

    .center-btn::before {
        translate: 82px -4px;
        font-size: 0.42rem
    }

    .center-btn::after {
        translate: 68px -4px;
        font-size: 0.42rem
    }

    .clock>div:nth-of-type(1) {
        --cf: 0.26rem
    }

    .clock>div:nth-of-type(2) {
        --cf: 0.32rem
    }

    .clock>div:nth-of-type(3) {
        --cf: 0.32rem
    }

    .clock>div:nth-of-type(4) {
        --cf: 0.34rem
    }

    .clock>div:nth-of-type(5) {
        --cf: 0.3rem
    }

    .clock>div:nth-of-type(6) {
        --cf: 0.28rem
    }

    .clock>div:nth-of-type(7) {
        --cf: 0.24rem
    }
}

@media(max-height:480px) and (orientation:landscape) {
    :root {
        --clock-size: min(65vmin, 300px);
        --bottombar-h: 0px
    }

    .bottombar {
        display: none
    }

    .main {
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
        align-items: flex-start;
        gap: 14px;
        max-width: 100%
    }

    .digital-section {
        order: 1;
        flex: 1;
        min-width: 200px
    }

    .clock-wrapper {
        order: 2
    }

    .greeting {
        order: 0;
        width: 100%
    }

    .tools-section,
    .world-section,
    .info-row,
    .progress-section,
    .footer {
        order: 3;
        width: 100%
    }

    .scroll-top {
        bottom: 16px
    }

    .fullscreen-btn {
        bottom: 16px
    }
}

@media(min-width:1200px) {
    :root {
        --clock-size: min(72vmin, 780px)
    }

    .main {
        max-width: 900px
    }

    .info-row {
        grid-template-columns: repeat(6, 1fr)
    }

    .world-grid {
        grid-template-columns: repeat(4, 1fr)
    }
}

@media print {

    .topbar,
    .bottombar,
    .panel,
    .panel-overlay,
    .scroll-top,
    .fullscreen-btn,
    #bg-canvas,
    .loader,
    .tools-section,
    .ambient,
    .toast-container,
    .lang-overlay,
    .floating-orbs,
    .mouse-trail {
        display: none !important
    }

    body {
        background: white;
        color: black
    }

    .main {
        padding: 20px
    }
}

@media(prefers-reduced-motion:reduce) {

    *,
    ::before,
    ::after {
        animation-duration: 0.01ms !important;
        transition-duration: 0.01ms !important
    }
}

:focus-visible {
    outline: 2px solid var(--accent);
    outline-offset: 2px;
    border-radius: 4px
}

</style></head><body><div class="loader" id="loader"><div class="loader-inner"><div class="loader-ring"><div class="loader-ring-inner"></div></div><p class="loader-text">Loading<span class="loader-dots"></span></p></div></div><canvas id="bg-canvas"></canvas><div class="ambient"><div class="aurora aurora-1"></div><div class="aurora aurora-2"></div><div class="aurora aurora-3"></div></div><div class="floating-orbs" id="floating-orbs"></div><div class="toast-container" id="toast-container"></div><nav class="topbar" id="topbar"><div class="topbar-left"><div class="topbar-logo">SK</div><div class="topbar-brand">Sudhir Kumar <span>@SudhirDevOps1</span></div></div><div class="topbar-right"><button class="btn" id="btn-format"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" /><polyline points="12 6 12 12 16 14" /></svg><span id="format-label">12H</span></button><button class="btn btn-icon" id="btn-fullscreen-top"><svg viewBox="0 0 24 24"><polyline points="15 3 21 3 21 9" /><polyline points="9 21 3 21 3 15" /><line x1="21" y1="3" x2="14" y2="10" /><line x1="3" y1="21" x2="10" y2="14" /></svg></button><button class="btn btn-icon" id="btn-settings"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="3" /><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" /></svg></button></div></nav><nav class="bottombar" id="bottombar"><button class="bottombar-btn active" data-section="clock"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" /><polyline points="12 6 12 12 16 14" /></svg>Clock</button><button class="bottombar-btn" data-section="stopwatch"><svg viewBox="0 0 24 24"><circle cx="12" cy="13" r="8" /><line x1="12" y1="9" x2="12" y2="13" /><line x1="10" y1="2" x2="14" y2="2" /><line x1="12" y1="2" x2="12" y2="5" /></svg>Stopwatch</button><button class="bottombar-btn" data-section="world"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" /><line x1="2" y1="12" x2="22" y2="12" /><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z" /></svg>World</button><button class="bottombar-btn" data-section="settings" id="bb-settings"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="3" /><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" /></svg>Settings</button></nav><button class="scroll-top" id="scroll-top"><svg viewBox="0 0 24 24"><polyline points="18 15 12 9 6 15" /></svg></button><button class="fullscreen-btn" id="fullscreen-btn"><svg viewBox="0 0 24 24"><polyline points="15 3 21 3 21 9" /><polyline points="9 21 3 21 3 15" /><line x1="21" y1="3" x2="14" y2="10" /><line x1="3" y1="21" x2="10" y2="14" /></svg></button><main class="main"><div class="greeting" id="greeting-section"><div class="greeting-text"><span class="greeting-emoji" id="greeting-emoji">👋</span><span id="greeting-msg">शुभ संध्या</span>, <strong>Sudhir</strong></div></div><div class="digital-section" id="clock-section"><div class="digital-time" id="digital-time"></div><div class="digital-date" id="digital-date"></div></div><div class="clock-wrapper"><div class="clock-container"><div class="clock" id="clock"><div class="clock-glow"></div><div id="ring-years"><div data-clock="years" data-numbers="101" class="clock-face"></div></div><div id="ring-seconds"><div data-clock="seconds" data-numbers="60" class="clock-face"></div></div><div><div data-clock="minutes" data-numbers="60" class="clock-face"></div></div><div><div data-clock="hours" data-numbers="12" class="clock-face"></div></div><div><div data-clock="days" data-numbers="31" class="clock-face"></div></div><div><div data-clock="months" data-numbers="12" class="clock-face"></div></div><div><div data-clock="day-names" data-numbers="7" class="clock-face"></div></div><button type="button" id="center-btn" class="center-btn">🇮🇳</button></div></div></div><div class="info-row" id="info-section"><div class="info-card"><div class="label">Week</div><div class="value" id="info-week">--</div></div><div class="info-card"><div class="label">Day of Year</div><div class="value" id="info-doy">--</div></div><div class="info-card"><div class="label">Timezone</div><div class="value" id="info-tz">--</div></div><div class="info-card"><div class="label">Unix</div><div class="value" id="info-unix">--</div></div><div class="info-card"><div class="label">Leap Year</div><div class="value" id="info-leap">--</div></div><div class="info-card"><div class="label">Days Left</div><div class="value" id="info-left">--</div></div></div><div class="battery-section reveal" id="battery-section"><div class="section-title">🔋 Battery Status</div><div class="battery-card"><div class="battery-icon"><div class="battery-fill-inner" id="battery-fill" style="width:100%;background:var(--color-lime)"></div></div><div class="battery-info"><div class="battery-pct" id="battery-pct">---%</div><div class="battery-status" id="battery-status"><span class="pulse-dot"></span>Checking...</div></div></div></div><div class="tools-section reveal" id="tools-section"><div class="section-title">⏱️ Tools</div><div class="tools-tabs"><button class="tools-tab active" data-tool="stopwatch"><svg viewBox="0 0 24 24"><circle cx="12" cy="13" r="8" /><line x1="12" y1="9" x2="12" y2="13" /><line x1="10" y1="2" x2="14" y2="2" /></svg>Stopwatch</button><button class="tools-tab" data-tool="timer"><svg viewBox="0 0 24 24"><path d="M5 22h14" /><path d="M5 2h14" /><path d="M17 22v-4.17a2 2 0 0 0-.59-1.41L12 12l-4.41 4.41A2 2 0 0 0 7 17.83V22" /><path d="M7 2v4.17a2 2 0 0 0 .59 1.41L12 12l4.41-4.41A2 2 0 0 0 17 6.17V2" /></svg>Timer</button><button class="tools-tab" data-tool="pomodoro"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" /><path d="M12 6v6l4 2" /></svg>Pomodoro</button><button class="tools-tab" data-tool="datecalc"><svg viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="18" rx="2" /><line x1="16" y1="2" x2="16" y2="6" /><line x1="8" y1="2" x2="8" y2="6" /><line x1="3" y1="10" x2="21" y2="10" /></svg>Date Calc</button></div><div class="tools-panel active" id="panel-stopwatch"><div class="sw-display" id="sw-display">00:00:00<span class="ms">.000</span></div><div class="sw-controls"><button class="tool-btn start" id="sw-start">▶ Start</button><button class="tool-btn" id="sw-lap">⏱ Lap</button><button class="tool-btn" id="sw-reset">↺ Reset</button></div><div class="laps-list" id="laps-list"></div></div><div class="tools-panel" id="panel-timer"><div class="timer-inputs" id="timer-inputs"><div class="timer-input-group"><input type="number" class="timer-input" id="timer-h" value="0" min="0" max="99"><div class="timer-input-label">Hours</div></div><span class="timer-sep">:</span><div class="timer-input-group"><input type="number" class="timer-input" id="timer-m" value="5" min="0" max="59"><div class="timer-input-label">Minutes</div></div><span class="timer-sep">:</span><div class="timer-input-group"><input type="number" class="timer-input" id="timer-s" value="0" min="0" max="59"><div class="timer-input-label">Seconds</div></div></div><div class="timer-display" id="timer-display">00:05:00</div><div class="timer-controls"><button class="tool-btn start" id="timer-start">▶ Start</button><button class="tool-btn" id="timer-reset">↺ Reset</button></div></div><div class="tools-panel" id="panel-pomodoro"><div class="pomo-label" id="pomo-label">🍅 Focus Time</div><div class="pomo-display" id="pomo-display">25:00</div><div class="pomo-controls"><button class="tool-btn start" id="pomo-start">▶ Start</button><button class="tool-btn" id="pomo-skip">⏭ Skip</button><button class="tool-btn" id="pomo-reset">↺ Reset</button></div><div class="pomo-stats"><div class="pomo-stat"><div class="pomo-stat-val" id="pomo-count">0</div><div class="pomo-stat-label">Sessions</div></div><div class="pomo-stat"><div class="pomo-stat-val" id="pomo-total">0m</div><div class="pomo-stat-label">Total Focus</div></div></div></div><div class="tools-panel" id="panel-datecalc"><div class="datecalc-panel"><div style="text-align:center;color:var(--color-magenta);font-size:0.75rem;margin-bottom:10px;font-weight:600;text-transform:uppercase;letter-spacing:2px">Days Between Dates</div><div class="datecalc-row"><input type="date" class="datecalc-input" id="date-from"><span style="color:var(--color-coral);font-weight:700">→</span><input type="date" class="datecalc-input" id="date-to"></div><button class="tool-btn start" id="datecalc-btn" style="display:block;margin:0 auto 14px">📊 Calculate</button><div class="datecalc-result" id="datecalc-result">Select two dates to calculate</div></div></div></div><div class="alarm-section reveal-left" id="alarm-section"><div class="section-title">⏰ Alarms</div><div class="alarm-card"><div class="alarm-set"><input type="number" class="alarm-input" id="alarm-h" value="7" min="1" max="12" placeholder="HH"><span style="color:var(--accent);font-weight:700;font-size:1.2rem">:</span><input type="number" class="alarm-input" id="alarm-m-input" value="0" min="0" max="59" placeholder="MM"><select class="alarm-ampm-select" id="alarm-ampm"><option value="AM">AM</option><option value="PM">PM</option></select><button class="tool-btn start" id="alarm-add">+Add</button></div><div class="alarm-list" id="alarm-list"></div></div></div><div class="world-section reveal-right" id="world-section"><div class="section-title">🌍 World Clocks</div><div class="world-grid" id="world-grid"></div></div><div class="progress-section reveal" id="progress-section"><div class="section-title">📊 Time Progress</div><div class="progress-row"><div class="progress-item"><div class="progress-header"><span class="progress-label">Day Progress</span><span class="progress-value" id="prog-day-val">0%</span></div><div class="progress-track"><div class="progress-fill" id="prog-day" style="width:0%"></div></div></div><div class="progress-item"><div class="progress-header"><span class="progress-label">Week Progress</span><span class="progress-value" id="prog-week-val">0%</span></div><div class="progress-track"><div class="progress-fill" id="prog-week" style="width:0%"></div></div></div><div class="progress-item"><div class="progress-header"><span class="progress-label">Month Progress</span><span class="progress-value" id="prog-month-val">0%</span></div><div class="progress-track"><div class="progress-fill" id="prog-month" style="width:0%"></div></div></div><div class="progress-item"><div class="progress-header"><span class="progress-label">Year Progress</span><span class="progress-value" id="prog-year-val">0%</span></div><div class="progress-track"><div class="progress-fill" id="prog-year" style="width:0%"></div></div></div></div></div><div class="quote-section reveal-scale" id="quote-section"><div class="section-title">💡 Quote of the Day</div><div class="quote-card"><div class="quote-text" id="quote-text">Time is the most valuable thing a man can spend.</div><div class="quote-author" id="quote-author">— Theophrastus</div><button class="quote-refresh" id="quote-refresh">🔄 New Quote</button></div></div><div class="footer">Made with ❤️ by <a href="#">Sudhir Kumar</a>&bull;

<span id="footer-year"></span></div></main><div class="panel-overlay" id="panel-overlay"></div><aside class="panel" id="settings-panel"><div class="panel-header"><h2>⚙️ Settings</h2><button class="btn btn-icon" id="btn-panel-close"><svg viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18" /><line x1="6" y1="6" x2="18" y2="18" /></svg></button></div><div class="panel-body"><div class="panel-section"><h3>Time Format</h3><div class="format-selector"><button class="format-btn" data-format="24">24 Hour</button><button class="format-btn active" data-format="12">12 Hour</button></div></div><div class="panel-section"><h3>Theme Color</h3><div class="theme-grid"><button class="theme-btn active" data-theme="default"><div class="theme-dot" style="background:linear-gradient(135deg,#ff6b35,#ff8c42)"></div><span>Ember</span></button><button class="theme-btn" data-theme="emerald"><div class="theme-dot" style="background:linear-gradient(135deg,#10b981,#34d399)"></div><span>Emerald</span></button><button class="theme-btn" data-theme="violet"><div class="theme-dot" style="background:linear-gradient(135deg,#8b5cf6,#a78bfa)"></div><span>Violet</span></button><button class="theme-btn" data-theme="rose"><div class="theme-dot" style="background:linear-gradient(135deg,#f43f5e,#fb7185)"></div><span>Rose</span></button><button class="theme-btn" data-theme="cyan"><div class="theme-dot" style="background:linear-gradient(135deg,#06b6d4,#22d3ee)"></div><span>Cyan</span></button><button class="theme-btn" data-theme="gold"><div class="theme-dot" style="background:linear-gradient(135deg,#f59e0b,#fbbf24)"></div><span>Gold</span></button><button class="theme-btn" data-theme="ocean"><div class="theme-dot" style="background:linear-gradient(135deg,#3b82f6,#60a5fa)"></div><span>Ocean</span></button><button class="theme-btn" data-theme="pink"><div class="theme-dot" style="background:linear-gradient(135deg,#ec4899,#f472b6)"></div><span>Pink</span></button><button class="theme-btn" data-theme="lime"><div class="theme-dot" style="background:linear-gradient(135deg,#84cc16,#a3e635)"></div><span>Lime</span></button></div></div><div class="panel-section"><h3>Display</h3><div class="toggle-row"><div><div class="toggle-label">Seconds Ring</div><div class="toggle-sub">Show seconds on clock</div></div><div class="toggle on" id="toggle-seconds"></div></div><div class="toggle-row"><div><div class="toggle-label">Year Ring</div><div class="toggle-sub">Show year ring</div></div><div class="toggle on" id="toggle-years"></div></div><div class="toggle-row"><div><div class="toggle-label">Particles</div><div class="toggle-sub">Background animation</div></div><div class="toggle on" id="toggle-particles"></div></div><div class="toggle-row"><div><div class="toggle-label">Info Cards</div><div class="toggle-sub">Extra time info</div></div><div class="toggle on" id="toggle-info"></div></div><div class="toggle-row"><div><div class="toggle-label">World Clocks</div><div class="toggle-sub">World time zones</div></div><div class="toggle on" id="toggle-world"></div></div><div class="toggle-row"><div><div class="toggle-label">Progress Bars</div><div class="toggle-sub">Day/week/month/year</div></div><div class="toggle on" id="toggle-progress"></div></div><div class="toggle-row"><div><div class="toggle-label">Greeting</div><div class="toggle-sub">Show greeting</div></div><div class="toggle on" id="toggle-greeting"></div></div><div class="toggle-row"><div><div class="toggle-label">Smooth Seconds</div><div class="toggle-sub">Smooth animation</div></div><div class="toggle" id="toggle-smooth"></div></div><div class="toggle-row"><div><div class="toggle-label">Mouse Trail</div><div class="toggle-sub">Colorful cursor trail</div></div><div class="toggle on" id="toggle-trail"></div></div></div><div class="panel-section"><h3>About</h3><div style="font-size:0.78rem;color:var(--color-gold);line-height:1.7"><strong style="color:var(--accent)">Sudhir's Clock v4.0</strong><br>Built with ❤️ by Sudhir Kumar<br><span style="color:var(--color-magenta)">Now with epic animations! 🚀</span></div></div></div></aside>
 <div class="lang-overlay" id="lang-overlay"><div class="lang-modal"><div class="lang-modal-header"><div class="lang-modal-title"><span>🌐</span>भाषा चुनें</div><button class="lang-close" id="lang-close">✕</button></div><div class="lang-search-wrap"><span class="lang-search-icon">🔍</span><input type="text" class="lang-search" id="lang-search" placeholder="Search language..." autocomplete="off"></div><div class="lang-current" id="lang-current"><div class="lang-current-flag" id="lang-current-flag">🇮🇳</div><div class="lang-current-info"><div class="lang-current-name" id="lang-current-name">हिन्दी (Hindi)</div><div class="lang-current-code" id="lang-current-code">hi-IN</div></div><div class="lang-current-badge">Active</div></div><div class="lang-list" id="lang-list"></div></div></div><audio id="alarm-audio" preload="auto"><source src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdH2JkZqTi4J9eX2DjJWdnpeOg3x4fISNlp6fl5CLhH59g4uUm56ak46HgH1/hY2VnJ2YkYuFf36Cio+Wm5qVj4qFgX+Di5GXmpiTjoiFgYGGjJOYmpiTjoiEgoOIjpSYmZWRjIiEg4aMkpiYlpGNiYWEh4ySlpiWko6KhoSHi5GWl5aRjYqGhIiMkZaXlZGNioeGiIyRlZaUkY2Kh4eJjJGUlZSQjYqHh4mMkZSVkpCNioiHiYyRlJSTkI2KiIiKjZGTk5GNjImIiYuOkpOSkI2LiYmKjI+Sk5GQjYuJiYuNkJKRkI6MiomKjI+RkZCOjIqJio2PkZGQjo2LiouMj5CRkI6Mi4qLjY+QkI+OjIuLi42Pj5CPjYyLi4yOj5CPjoyMi4uNjo+Qj46MjIuMjY6Pj46NjIyMjY6Oj46NjIyMjY6Oj46NjYyMjI2Ojo6NjYyMjI2Ojo6NjYyMjI2Njo6NjY2MjIyNjY6NjY2NjIyMjY2NjY2NjYyMjI2NjY2NjY2NjIyMjY2NjY2NjY2MjIyNjY2NjY2NjY2MjIyMjY2NjY2NjYyMjIyNjY2NjY2NjYyMjIyNjY2NjY2NjY2MjIyMjI2NjY2NjY2NjIyMjI2NjY2NjY2NjIyMjIyNjY2NjY2NjYyMjIyMjY2NjY2NjYyM" type="audio/wav"></audio><script>(()=> {
        'use strict';
        const $=s=>document.querySelector(s), $$=s=>document.querySelectorAll(s), pad=(n, l=2)=>String(n).padStart(l, '0');

        // ═══ PARTICLES ═══
        const canvas=$('#bg-canvas'), ctx=canvas.getContext('2d'); let particles=[], particlesOn=true;

        function resizeCanvas() {
            canvas.width=innerWidth; canvas.height=innerHeight
        }

        resizeCanvas(); addEventListener('resize', resizeCanvas, {
            passive:true
        });

    class Particle {
        constructor() {
            this.reset()
        }

        reset() {
            this.x=Math.random()*canvas.width; this.y=Math.random()*canvas.height; this.sz=Math.random()*1.4+0.3; this.vx=(Math.random()-0.5)*0.25; this.vy=(Math.random()-0.5)*0.25; this.a=Math.random()*0.35+0.05; this.ph=Math.random()*6.28; this.hue=Math.random()*360
        }

        update() {
            this.x+=this.vx; this.y+=this.vy; this.ph+=0.008; this.hue+=0.1; if(this.x<-10||this.x>canvas.width+10||this.y<-10||this.y>canvas.height+10)this.reset()
        }

        draw() {
            ctx.beginPath(); ctx.arc(this.x, this.y, this.sz, 0, 6.28); const alpha=this.a*(0.5+0.5*Math.sin(this.ph)); ctx.fillStyle=`hsla($ {
                    this.hue
                }

                , 80%, 70%, $ {
                    alpha
                })`; ctx.fill()
        }
    }

    for(let i=0; i<50; i++)particles.push(new Particle());

    function drawParticles() {
        ctx.clearRect(0, 0, canvas.width, canvas.height); if(particlesOn) {
            for(let p of particles) {
                p.update(); p.draw()
            }

            for(let i=0; i<particles.length; i++)for(let j=i+1; j<particles.length; j++) {
                const dx=particles[i].x-particles[j].x, dy=particles[i].y-particles[j].y, d=dx*dx+dy*dy; if(d<12000) {
                    ctx.beginPath(); ctx.moveTo(particles[i].x, particles[i].y); ctx.lineTo(particles[j].x, particles[j].y); ctx.strokeStyle=`rgba(255, 255, 255, $ {
                            0.02*(1-Math.sqrt(d)/110)
                        })`; ctx.lineWidth=0.5; ctx.stroke()
                }
            }
        }

        requestAnimationFrame(drawParticles)
    }

    drawParticles();

    // ═══ FLOATING ORBS ═══
    const orbContainer=$('#floating-orbs'); const orbColors=['#00e5ff', '#ff4ecb', '#b8ff3a', '#ffd740', '#ff6b6b'];

    function createOrbs() {
        for(let i=0; i<12; i++) {
            const orb=document.createElement('div'); orb.className='orb'; const sz=Math.random()*4+2; orb.style.cssText=`width:$ {
                sz
            }

            px; height:$ {
                sz
            }

            px; left:$ {
                Math.random()*100
            }

            %; background:$ {
                orbColors[i%5]
            }

            ; animation-duration:$ {
                8+Math.random()*12
            }

            s; animation-delay:$ {
                Math.random()*10
            }

            s; opacity:0`; orbContainer.appendChild(orb)
        }
    }

    createOrbs();

    // ═══ MOUSE TRAIL ═══
    let trailOn=true, trails=[];

    function createTrail(x, y) {
        if( !trailOn||innerWidth<680)return; const dot=document.createElement('div'); dot.className='mouse-trail'; dot.style.cssText=`left:$ {
            x
        }

        px; top:$ {
            y
        }

        px; background:$ {
            orbColors[Math.floor(Math.random()*5)]
        }

        ; opacity:0.7; box-shadow:0 0 6px currentColor`; document.body.appendChild(dot); trails.push({
            el:dot, life:1

        }); if(trails.length>20) {
        const old=trails.shift(); old.el.remove()
    }
}

let trailTimer=0; document.addEventListener('mousemove', e=> {
        const now=Date.now(); if(now-trailTimer<40)return; trailTimer=now; createTrail(e.clientX, e.clientY)
    });

function updateTrails() {
    trails.forEach((t, i)=> {
            t.life-=0.03; t.el.style.opacity=t.life; t.el.style.transform=`scale($ {
                    t.life

                })`; if(t.life<=0) {
                t.el.remove(); trails.splice(i, 1)
            }
        }); requestAnimationFrame(updateTrails)
}

updateTrails();

// ═══ RIPPLE EFFECT ═══
function addRipple(e) {
    const el=e.currentTarget, rect=el.getBoundingClientRect(); const r=document.createElement('span'); r.className='ripple'; const sz=Math.max(rect.width, rect.height); r.style.cssText=`width:$ {
        sz
    }

    px; height:$ {
        sz
    }

    px; left:$ {
        e.clientX-rect.left-sz/2
    }

    px; top:$ {
        e.clientY-rect.top-sz/2
    }

    px`; el.appendChild(r); setTimeout(()=>r.remove(), 600)
}

document.addEventListener('click', e=> {
        const btn=e.target.closest('.btn,.tool-btn,.bottombar-btn,.theme-btn,.tools-tab,.quote-refresh'); if(btn)addRipple(e)
    });

// ═══ PARTICLE BURST ═══
function particleBurst(x, y, color) {
    const container=document.createElement('div'); container.className='particle-burst'; container.style.cssText=`left:$ {
        x
    }

    px; top:$ {
        y
    }

    px`; for(let i=0; i<12; i++) {
        const p=document.createElement('div'); p.className='burst-particle'; const angle=Math.random()*Math.PI*2, dist=30+Math.random()*50; p.style.cssText=`background:$ {
            color||orbColors[Math.floor(Math.random()*5)]
        }

        ; --bx:$ {
            Math.cos(angle)*dist
        }

        px; --by:$ {
            Math.sin(angle)*dist
        }

        px`; container.appendChild(p)
    }

    document.body.appendChild(container); setTimeout(()=>container.remove(), 1000)
}

// ═══ SCROLL REVEAL ═══
const revealObserver=new IntersectionObserver((entries)=> {
        entries.forEach(e=> {
                if(e.isIntersecting) {
                    e.target.classList.add('revealed'); revealObserver.unobserve(e.target)
                }
            })
    }

    , {
    threshold:0.1, rootMargin:'0px 0px -50px 0px'
});

function initReveal() {
    $$('.reveal,.reveal-left,.reveal-right,.reveal-scale').forEach(el=>revealObserver.observe(el))
}

// ═══ 3D TILT on cards ═══
function initTilt() {
    $$('.info-card,.world-card,.battery-card,.quote-card').forEach(card=> {
            card.addEventListener('mousemove', e=> {
                    const rect=card.getBoundingClientRect(); const x=(e.clientX-rect.left)/rect.width-0.5; const y=(e.clientY-rect.top)/rect.height-0.5; card.style.transform=`perspective(500px) rotateY($ {
                            x*8
                        }

                        deg) rotateX($ {
                            -y*8
                        }

                        deg) translateY(-3px)`; card.style.transition='transform 0.1s'

                }); card.addEventListener('mouseleave', ()=> {
                    card.style.transform=''; card.style.transition='transform 0.4s cubic-bezier(0.4,0,0.2,1)'
                })
        })
}

const langs=[ {
    c:'hi-IN', n:'हिन्दी (Hindi)', f:'🇮🇳'
}

, {
c:'en-US', n:'English (US)', f:'🇺🇸'
}

, {
c:'en-GB', n:'English (UK)', f:'🇬🇧'
}

, {
c:'ar-SA', n:'العربية (Arabic)', f:'🇸🇦'
}

, {
c:'bn-IN', n:'বাংলা (Bengali)', f:'🇮🇳'
}

, {
c:'cs-CZ', n:'Čeština (Czech)', f:'🇨🇿'
}

, {
c:'da-DK', n:'Dansk (Danish)', f:'🇩🇰'
}

, {
c:'de-DE', n:'Deutsch (German)', f:'🇩🇪'
}

, {
c:'el-GR', n:'Ελληνικά (Greek)', f:'🇬🇷'
}

, {
c:'es-ES', n:'Español (Spanish)', f:'🇪🇸'
}

, {
c:'es-MX', n:'Español MX', f:'🇲🇽'
}

, {
c:'fi-FI', n:'Suomi (Finnish)', f:'🇫🇮'
}

, {
c:'fr-FR', n:'Français (French)', f:'🇫🇷'
}

, {
c:'fr-CA', n:'Français CA', f:'🇨🇦'
}

, {
c:'gu-IN', n:'ગુજરાતી (Gujarati)', f:'🇮🇳'
}

, {
c:'he-IL', n:'עברית (Hebrew)', f:'🇮🇱'
}

, {
c:'hu-HU', n:'Magyar (Hungarian)', f:'🇭🇺'
}

, {
c:'it-IT', n:'Italiano (Italian)', f:'🇮🇹'
}

, {
c:'ja-JP', n:'日本語 (Japanese)', f:'🇯🇵'
}

, {
c:'kn-IN', n:'ಕನ್ನಡ (Kannada)', f:'🇮🇳'
}

, {
c:'ko-KR', n:'한국어 (Korean)', f:'🇰🇷'
}

, {
c:'ml-IN', n:'മലയാളം (Malayalam)', f:'🇮🇳'
}

, {
c:'mr-IN', n:'मराठी (Marathi)', f:'🇮🇳'
}

, {
c:'nl-NL', n:'Nederlands (Dutch)', f:'🇳🇱'
}

, {
c:'no-NO', n:'Norsk (Norwegian)', f:'🇳🇴'
}

, {
c:'pa-IN', n:'ਪੰਜਾਬੀ (Punjabi)', f:'🇮🇳'
}

, {
c:'pl-PL', n:'Polski (Polish)', f:'🇵🇱'
}

, {
c:'pt-BR', n:'Português BR', f:'🇧🇷'
}

, {
c:'pt-PT', n:'Português', f:'🇵🇹'
}

, {
c:'ro-RO', n:'Română (Romanian)', f:'🇷🇴'
}

, {
c:'ru-RU', n:'Русский (Russian)', f:'🇷🇺'
}

, {
c:'sv-SE', n:'Svenska (Swedish)', f:'🇸🇪'
}

, {
c:'ta-IN', n:'தமிழ் (Tamil)', f:'🇮🇳'
}

, {
c:'te-IN', n:'తెలుగు (Telugu)', f:'🇮🇳'
}

, {
c:'th-TH', n:'ไทย (Thai)', f:'🇹🇭'
}

, {
c:'tr-TR', n:'Türkçe (Turkish)', f:'🇹🇷'
}

, {
c:'ur-PK', n:'اردو (Urdu)', f:'🇵🇰'
}

, {
c:'vi-VN', n:'Tiếng Việt', f:'🇻🇳'
}

, {
c:'zh-CN', n:'中文 (Chinese)', f:'🇨🇳'
}

];

let locale=localStorage.getItem('sk-lang')||'hi-IN', is24h=false, smoothSec=false;
const centerBtn=$('#center-btn'), langOverlay=$('#lang-overlay'), langList=$('#lang-list'), langSearch=$('#lang-search');
const digitalTime=$('#digital-time'), digitalDate=$('#digital-date'), formatLabel=$('#format-label'), topbar=$('#topbar'), scrollTopBtn=$('#scroll-top'), settingsPanel=$('#settings-panel'), panelOverlay=$('#panel-overlay');

function toast(msg, icon='✓') {
    const c=$('#toast-container'), t=document.createElement('div'); t.className='toast'; t.innerHTML=`<span class="toast-icon" >$ {
        icon
    }

    </span>$ {
        msg
    }

    `; c.appendChild(t); setTimeout(()=>t.remove(), 3200); particleBurst(innerWidth/2, 80)
}

function buildLangList() {
    langList.innerHTML=''; langs.forEach((lang, i)=> {
            const item=document.createElement('div'); item.className='lang-item' +(lang.c===locale?' selected':''); item.dataset.code=lang.c; item.dataset.search=`$ {
                lang.n
            }

            $ {
                lang.c
            }

            `.toLowerCase(); item.style.animationDelay=`$ {
                i*30
            }

            ms`; item.innerHTML=`<div class="lang-item-flag" >$ {
                lang.f
            }

            </div><div class="lang-item-info" ><div class="lang-item-name" >$ {
                lang.n
            }

            </div><div class="lang-item-code" >$ {
                lang.c
            }

            </div></div>`; item.addEventListener('click', ()=>selectLang(lang)); langList.appendChild(item)
        })
}

function selectLang(lang) {
    locale=lang.c; localStorage.setItem('sk-lang', locale); centerBtn.textContent=lang.f; $('#lang-current-flag').textContent=lang.f; $('#lang-current-name').textContent=lang.n; $('#lang-current-code').textContent=lang.c; langList.querySelectorAll('.lang-item').forEach(el=>el.classList.toggle('selected', el.dataset.code===locale)); drawClockFaces(); updateWorld(); closeLang(); toast(`भाषा: $ {
            lang.n
        }

        `, lang.f)
}

function updateCurrentBanner() {
    const lang=langs.find(l=>l.c===locale)||langs[0]; $('#lang-current-flag').textContent=lang.f; $('#lang-current-name').textContent=lang.n; $('#lang-current-code').textContent=lang.c; centerBtn.textContent=lang.f
}

langSearch.addEventListener('input', ()=> {
        const q=langSearch.value.toLowerCase().trim(); let found=0; langList.querySelectorAll('.lang-item').forEach(item=> {
                const match= !q||item.dataset.search.includes(q); item.classList.toggle('hidden', !match); if(match)found++

            }); let emptyEl=langList.querySelector('.lang-empty'); if(found===0) {
            if( !emptyEl) {
                emptyEl=document.createElement('div'); emptyEl.className='lang-empty'; emptyEl.textContent='कोई भाषा नहीं मिली'; langList.appendChild(emptyEl)
            }
        }

        else if(emptyEl)emptyEl.remove()
    });

function openLang() {
    langOverlay.classList.add('open'); document.body.style.overflow='hidden'; buildLangList(); langSearch.value=''; setTimeout(()=>langSearch.focus(), 300); setTimeout(()=> {
            const sel=langList.querySelector('.selected'); if(sel)sel.scrollIntoView({
                block:'center', behavior:'smooth'
            })
    }

    , 350)
}

function closeLang() {
    langOverlay.classList.remove('open'); document.body.style.overflow=''
}

centerBtn.addEventListener('click', ()=> {
        openLang(); particleBurst(innerWidth/2, innerHeight/2)

    }); $('#lang-close').addEventListener('click', closeLang); langOverlay.addEventListener('click', e=> {
        if(e.target===langOverlay)closeLang()
    });

let lastSY=0, scrollTick=false; addEventListener('scroll', ()=> {
        if( !scrollTick) {
            requestAnimationFrame(()=> {
                    const sy=scrollY; scrollTopBtn.classList.toggle('visible', sy>250); if(sy>lastSY&&sy>80)topbar.classList.add('hidden-bar'); else topbar.classList.remove('hidden-bar'); topbar.classList.toggle('scrolled', sy>8); lastSY=sy; scrollTick=false
                }); scrollTick=true
        }
    }

    , {
    passive:true
});

scrollTopBtn.addEventListener('click', ()=>scrollTo({
        top:0, behavior:'smooth'
    }));

function openPanel() {
    settingsPanel.classList.add('open'); panelOverlay.classList.add('open'); document.body.style.overflow='hidden'
}

function closePanel() {
    settingsPanel.classList.remove('open'); panelOverlay.classList.remove('open'); document.body.style.overflow=''
}

$('#btn-settings').addEventListener('click', openPanel); $('#btn-panel-close').addEventListener('click', closePanel); panelOverlay.addEventListener('click', closePanel); $('#bb-settings').addEventListener('click', openPanel);

$$('.bottombar-btn').forEach(btn=> {
        btn.addEventListener('click', ()=> {
                const sec=btn.dataset.section; if(sec==='settings')return; $$('.bottombar-btn').forEach(b=>b.classList.remove('active')); btn.classList.add('active'); const t= {
                    clock:'#clock-section', stopwatch:'#tools-section', world:'#world-section'
                }

                ; $(t[sec])?.scrollIntoView({
                    behavior:'smooth', block:'center'
                })
        })
});

function setFormat(v) {
    is24h=v; formatLabel.textContent=is24h?'24H':'12H'; $$('.format-btn').forEach(b=>b.classList.toggle('active', b.dataset.format===(is24h?'24':'12'))); drawClockFaces()
}

$('#btn-format').addEventListener('click', ()=> {
        setFormat( !is24h); toast(`$ {
                is24h?'24':'12'
            }

            -hour format`, '🕐')
    }); $$('.format-btn').forEach(btn=>btn.addEventListener('click', ()=>setFormat(btn.dataset.format==='24')));

$$('.theme-btn').forEach(btn=> {
        btn.addEventListener('click', (e)=> {
                const t=btn.dataset.theme; if(t==='default')document.documentElement.removeAttribute('data-theme'); else document.documentElement.setAttribute('data-theme', t); $$('.theme-btn').forEach(b=>b.classList.remove('active')); btn.classList.add('active'); localStorage.setItem('sk-theme', t); toast(`Theme: $ {
                        btn.querySelector('span').textContent
                    }

                    `, '🎨'); particleBurst(e.clientX, e.clientY)
            })
    });

const savedTheme=localStorage.getItem('sk-theme'); if(savedTheme&&savedTheme !=='default') {
    document.documentElement.setAttribute('data-theme', savedTheme); $$('.theme-btn').forEach(b=>b.classList.toggle('active', b.dataset.theme===savedTheme))
}

const toggleMap= {
    'toggle-seconds':()=>$('#ring-seconds').classList.toggle('hidden-ring', !$('#toggle-seconds').classList.contains('on')), 'toggle-years':()=>$('#ring-years').classList.toggle('hidden-ring', !$('#toggle-years').classList.contains('on')), 'toggle-particles':()=> {
        particlesOn=$('#toggle-particles').classList.contains('on'); canvas.style.opacity=particlesOn?'0.4':'0'
    }

    , 'toggle-info':()=>$('#info-section').style.display=$('#toggle-info').classList.contains('on')?'':'none', 'toggle-world':()=>$('#world-section').style.display=$('#toggle-world').classList.contains('on')?'':'none', 'toggle-progress':()=>$('#progress-section').style.display=$('#toggle-progress').classList.contains('on')?'':'none', 'toggle-greeting':()=>$('#greeting-section').style.display=$('#toggle-greeting').classList.contains('on')?'':'none', 'toggle-smooth':()=> {
        smoothSec=$('#toggle-smooth').classList.contains('on')
    }

    , 'toggle-trail':()=> {
        trailOn=$('#toggle-trail').classList.contains('on')
    }
}

;

$$('.toggle').forEach(t=> {
        t.addEventListener('click', ()=> {
                t.classList.toggle('on'); toggleMap[t.id]?.()
            })
    });

function toggleFS() {
    if( !document.fullscreenElement) {
        document.documentElement.requestFullscreen?.().catch(()=> {}); toast('Fullscreen', '🖥️')
    }

    else {
        document.exitFullscreen?.(); toast('Exit fullscreen', '🖥️')
    }
}

$('#fullscreen-btn').addEventListener('click', toggleFS); $('#btn-fullscreen-top').addEventListener('click', toggleFS); if( !document.documentElement.requestFullscreen) {
    $('#btn-fullscreen-top').style.display='none'; $('#fullscreen-btn').style.display='none'
}

function updateGreeting() {
    const h=new Date().getHours(); let m, e; if(h<5) {
        m='शुभ रात्रि'; e='🌙'
    }

    else if(h<12) {
        m='सुप्रभात'; e='☀️'
    }

    else if(h<17) {
        m='शुभ दोपहर'; e='🌤️'
    }

    else if(h<21) {
        m='शुभ संध्या'; e='🌆'
    }

    else {
        m='शुभ रात्रि'; e='🌙'
    }

    $('#greeting-msg').textContent=m; $('#greeting-emoji').textContent=e
}

updateGreeting(); setInterval(updateGreeting, 60000);

function updateDigital() {
    const now=new Date(); let h=now.getHours(); const m=pad(now.getMinutes()), s=pad(now.getSeconds()); let ampm=''; if( !is24h) {
        ampm=h>=12?'PM':'AM'; h=h%12||12
    }

    digitalTime.innerHTML=`$ {
        pad(h)
    }

    <span class="colon" >:</span>$ {
        m
    }

    <span class="colon" >:</span>$ {
        s
    }

    $ {
        !is24h?`<span class="digital-ampm" >$ {
            ampm
        }

        </span>`:''
    }

    `; digitalDate.textContent=new Intl.DateTimeFormat(locale, {
        weekday:'long', year:'numeric', month:'long', day:'numeric'
    }).format(now); const yr=now.getFullYear(), start=new Date(yr, 0, 1), doy=Math.floor((now-start)/864e5)+1; const isLeap=(yr%4===0&&yr%100 !==0)||yr%400===0, totalDays=isLeap?366:365; $('#info-week').textContent=Math.ceil(doy/7); $('#info-doy').textContent=doy; $('#info-tz').textContent=Intl.DateTimeFormat().resolvedOptions().timeZone.split('/').pop().replace(/_/g, ' '); $('#info-unix').textContent=Math.floor(now.getTime()/1000); $('#info-leap').textContent=isLeap?'Yes ✓':'No ✗'; $('#info-left').textContent=totalDays-doy; const sod=now.getHours()*3600+now.getMinutes()*60+now.getSeconds(); const dayP=(sod/86400*100).toFixed(1), wd=now.getDay()===0?7:now.getDay(); const weekP=(((wd-1)*86400+sod)/(7*86400)*100).toFixed(1); const dim=new Date(yr, now.getMonth()+1, 0).getDate(); const monthP=(((now.getDate()-1+sod/86400)/dim)*100).toFixed(1); const yearP=(doy/totalDays*100).toFixed(1); $('#prog-day').style.width=dayP+'%'; $('#prog-day-val').textContent=dayP+'%'; $('#prog-week').style.width=weekP+'%'; $('#prog-week-val').textContent=weekP+'%'; $('#prog-month').style.width=monthP+'%'; $('#prog-month-val').textContent=monthP+'%'; $('#prog-year').style.width=yearP+'%'; $('#prog-year-val').textContent=yearP+'%'; checkAlarms(now)
}

const cities=[ {
    city:'New York', tz:'America/New_York', e:'🗽'
}

, {
city:'London', tz:'Europe/London', e:'🇬🇧'
}

, {
city:'Tokyo', tz:'Asia/Tokyo', e:'🗼'
}

, {
city:'Dubai', tz:'Asia/Dubai', e:'🏜️'
}

, {
city:'Sydney', tz:'Australia/Sydney', e:'🦘'
}

, {
city:'Paris', tz:'Europe/Paris', e:'🇫🇷'
}

, {
city:'Mumbai', tz:'Asia/Kolkata', e:'🇮🇳'
}

, {
city:'Singapore', tz:'Asia/Singapore', e:'🇸🇬'
}

];

function createWorldClocks() {
    const g=$('#world-grid'); g.innerHTML=''; cities.forEach(c=> {
            const d=document.createElement('div'); d.className='world-card'; d.innerHTML=`<div class="world-city" >$ {
                c.e
            }

            $ {
                c.city
            }

            </div><div class="world-time" data-tz="${c.tz}" >--:--</div><div class="world-offset" data-tzo="${c.tz}" ></div>`; g.appendChild(d)
        })
}

createWorldClocks();

function updateWorld() {
    const now=new Date(); $$('.world-time[data-tz]').forEach(el=> {
            try {
                el.textContent=new Intl.DateTimeFormat(locale, {
                    hour:'2-digit', minute:'2-digit', hour12: !is24h, timeZone:el.dataset.tz
                }).format(now)
        }

        catch {
            el.textContent='--:--'
        }

    }); $$('[data-tzo]').forEach(el=> {
        try {
            const tz=el.dataset.tzo, tzD=new Date(now.toLocaleString('en-US', {
                    timeZone:tz

                })), diff=Math.round((tzD-now-now.getTimezoneOffset()*6e4)/36e5); el.textContent=`UTC$ {
            diff>=0?'+':''
        }

        $ {
            diff
        }

        `
    }

    catch {
        el.textContent=''
    }
})
}

function drawClockFaces() {
    const faces=$$('.clock-face'), now=new Date(); const cs=now.getSeconds(), cm=now.getMinutes(), ch=now.getHours(), cd=now.getDate(), cmo=now.getMonth(), cy=now.getFullYear(), cwd=now.getDay(); const dim=new Date(cy, cmo+1, 0).getDate(), hc=is24h?24:12; const weekdays=Array.from({
        length:7
    }

    , (_, i)=>new Intl.DateTimeFormat(locale, {
        weekday:'short'

    }).format(new Date(2021, 0, i+3))); const months=Array.from({
    length:12
}

, (_, i)=>new Intl.DateTimeFormat(locale, {
    month:'short'

}).format(new Date(2021, i))); faces.forEach(face=> {
        face.innerHTML=''; const type=face.dataset.clock; let nums=parseInt(face.dataset.numbers, 10), vals, cv; switch(type) {
            case'seconds':vals=Array.from({
                length:60
            }

            , (_, i)=>pad(i)); cv=pad(cs); break; case'minutes':vals=Array.from({
            length:60
        }

        , (_, i)=>pad(i)); cv=pad(cm); break; case'hours':nums=hc; face.dataset.numbers=hc; vals=is24h?Array.from({
        length:24
    }

    , (_, i)=>pad(i)):Array.from({
    length:12
}

, (_, i)=>String(i===0?12:i)); cv=is24h?pad(ch):String(ch%12||12); break; case'days':nums=dim; face.dataset.numbers=dim; vals=Array.from({
    length:dim
}

, (_, i)=>i+1); cv=cd; break; case'months':vals=months; cv=cmo; break; case'years':vals=Array.from({
    length:101
}

, (_, i)=>2000+i); cv=cy; break; case'day-names':vals=weekdays; cv=cwd; break; default:return
}

const faceW=face.offsetWidth, R=(faceW/2)-10, center=faceW/2; vals.forEach((v, i)=> {
        const ang=i*(360/nums), x=center+R*Math.cos(ang*Math.PI/180), y=center+R*Math.sin(ang*Math.PI/180); const el=document.createElement('span'); el.className='number'; el.textContent=v; el.style.left=x+'px'; el.style.top=y+'px'; el.style.setProperty('--r', ang+'deg'); el.style.transform=`translate(-50%, -50%) rotate($ {
                ang
            }

            deg)`; face.appendChild(el)

    }); const idx=vals.indexOf(typeof vals[0]==='string' ?String(cv):cv); face.style.transform=`rotate($ {
        -(idx/nums)*360
    }

    deg)`
})
}

function rotateClockFaces() {
    const faces=$$('.clock-face'), lastA= {}

    ; function tick() {
        const now=new Date(), ch=now.getHours(); faces.forEach(face=> {
                const type=face.dataset.clock, total=parseInt(face.dataset.numbers, 10); let val; switch(type) {
                    case'seconds':val=smoothSec?now.getSeconds()+now.getMilliseconds()/1000:now.getSeconds(); break; case'minutes':val=now.getMinutes(); break; case'hours':val=is24h?ch:(ch%12||0); break; case'days':val=now.getDate()-1; break; case'months':val=now.getMonth(); break; case'years':val=now.getFullYear()-2000; break; case'day-names':val=now.getDay(); break; default:return
                }

                const target=(360/total)*val, last=lastA[type]||0, delta=((target-last+540)%360)-180, newA=last+delta; face.style.transition=(type==='seconds' &&smoothSec)?'none':''; face.style.transform=`rotate($ {
                        -newA
                    }

                    deg)`; lastA[type]=newA; const iv=Math.round(val)%total; face.querySelectorAll('.number').forEach((n, i)=>n.classList.toggle('active', i===iv))
            }); requestAnimationFrame(tick)
    }

    tick()
}

// ═══ MAGNETIC CLOCK ═══
const clockEl=$('#clock');

clockEl.addEventListener('mousemove', e=> {
        const rect=clockEl.getBoundingClientRect(); const x=(e.clientX-rect.left)/rect.width-0.5; const y=(e.clientY-rect.top)/rect.height-0.5; clockEl.style.transform=`perspective(1000px) rotateY($ {
                x*5
            }

            deg) rotateX($ {
                -y*5
            }

            deg)`
    });

clockEl.addEventListener('mouseleave', ()=> {
        clockEl.style.transform=''
    });

// Stopwatch
let swOn=false, swT0=0, swEl=0, swInt=null, swLaps=[]; function fmtMs(ms) {
    const h=Math.floor(ms/36e5), m=Math.floor((ms%36e5)/6e4), s=Math.floor((ms%6e4)/1000), ml=ms%1000; return`$ {
        pad(h)
    }

    :$ {
        pad(m)
    }

    :$ {
        pad(s)
    }

    <span class="ms" >.$ {
        pad(ml, 3)
    }

    </span>`
}

function updSW() {
    $('#sw-display').innerHTML=fmtMs(swEl+(swOn?Date.now()-swT0:0))
}

$('#sw-start').addEventListener('click', function() {
        if( !swOn) {
            swOn=true; swT0=Date.now(); swInt=setInterval(updSW, 31); this.textContent='⏸ Pause'; this.className='tool-btn stop'
        }

        else {
            swOn=false; swEl+=Date.now()-swT0; clearInterval(swInt); this.textContent='▶ Resume'; this.className='tool-btn start'
        }
    });

$('#sw-lap').addEventListener('click', ()=> {
        if( !swOn&&swEl===0)return; const t=swEl+(swOn?Date.now()-swT0:0); swLaps.unshift(t); const list=$('#laps-list'); list.innerHTML=''; swLaps.forEach((lap, i)=> {
                const d=document.createElement('div'); d.className='lap-item'; const h=Math.floor(lap/36e5), m=Math.floor((lap%36e5)/6e4), s=Math.floor((lap%6e4)/1000), ms=lap%1000; d.innerHTML=`<span>Lap $ {
                    swLaps.length-i
                }

                </span><span>$ {
                    pad(h)
                }

                :$ {
                    pad(m)
                }

                :$ {
                    pad(s)
                }

                .$ {
                    pad(ms, 3)
                }

                </span>`; list.appendChild(d)
            })
    });

$('#sw-reset').addEventListener('click', ()=> {
        swOn=false; swEl=0; swLaps=[]; clearInterval(swInt); $('#sw-display').innerHTML=fmtMs(0); $('#laps-list').innerHTML=''; const b=$('#sw-start'); b.textContent='▶ Start'; b.className='tool-btn start'
    });

// Timer
let tmOn=false, tmInt=null, tmRem=0; function fmtTm(s) {
    return`$ {
        pad(Math.floor(s/3600))
    }

    :$ {
        pad(Math.floor((s%3600)/60))
    }

    :$ {
        pad(s%60)
    }

    `
}

function getTmIn() {
    return(parseInt($('#timer-h').value)||0)*3600+(parseInt($('#timer-m').value)||0)*60+(parseInt($('#timer-s').value)||0)
}

function updTmD() {
    $('#timer-display').textContent=fmtTm(tmRem)
}

['timer-h', 'timer-m', 'timer-s'].forEach(id=>$(`#$ {
            id
        }

        `).addEventListener('input', ()=> {
            if( !tmOn) {
                tmRem=getTmIn(); updTmD()
            }
        }));

$('#timer-start').addEventListener('click', function() {
        if( !tmOn) {
            if(tmRem<=0)tmRem=getTmIn(); if(tmRem<=0) {
                toast('समय सेट करें', '⚠️'); return
            }

            tmOn=true; $('#timer-inputs').style.cssText='opacity:0.3;pointer-events:none'; this.textContent='⏸ Pause'; tmInt=setInterval(()=> {
                    tmRem--; updTmD(); if(tmRem<=0) {
                        clearInterval(tmInt); tmOn=false; toast('टाइमर पूरा!', '⏰'); $('#timer-inputs').style.cssText=''; this.textContent='▶ Start'; $('#timer-display').style.color='var(--accent)'; setTimeout(()=>$('#timer-display').style.color='', 3000); navigator.vibrate?.([200, 100, 200, 100, 200]); particleBurst(innerWidth/2, innerHeight/2, '#ff6b35')
                    }
                }

                , 1000)
        }

        else {
            tmOn=false; clearInterval(tmInt); this.textContent='▶ Resume'
        }
    });

$('#timer-reset').addEventListener('click', ()=> {
        tmOn=false; clearInterval(tmInt); tmRem=getTmIn(); updTmD(); $('#timer-inputs').style.cssText=''; $('#timer-start').textContent='▶ Start'
    });

// Pomodoro
const POMO_WORK=25*60, POMO_BREAK=5*60, POMO_LONG=15*60;
let pomoOn=false, pomoInt=null, pomoRem=POMO_WORK, pomoMode='work', pomoSessions=0, pomoTotalMin=0;

function updPomo() {
    const m=Math.floor(pomoRem/60), s=pomoRem%60; $('#pomo-display').textContent=`$ {
        pad(m)
    }

    :$ {
        pad(s)
    }

    `
}

function pomoNext() {
    pomoSessions++; pomoTotalMin+=25; $('#pomo-count').textContent=pomoSessions; $('#pomo-total').textContent=pomoTotalMin+'m'; if(pomoSessions%4===0) {
        pomoMode='longbreak'; pomoRem=POMO_LONG; $('#pomo-label').textContent='☕ Long Break'
    }

    else {
        pomoMode='break'; pomoRem=POMO_BREAK; $('#pomo-label').textContent='☕ Short Break'
    }

    toast(pomoMode==='longbreak' ?'लंबा ब्रेक!':'छोटा ब्रेक!', '☕'); updPomo()
}

function pomoSkip() {
    clearInterval(pomoInt); pomoOn=false; $('#pomo-start').textContent='▶ Start'; $('#pomo-start').className='tool-btn start'; if(pomoMode==='work') {
        pomoNext()
    }

    else {
        pomoMode='work'; pomoRem=POMO_WORK; $('#pomo-label').textContent='🍅 Focus Time'; updPomo()
    }
}

$('#pomo-start').addEventListener('click', function() {
        if( !pomoOn) {
            pomoOn=true; this.textContent='⏸ Pause'; this.className='tool-btn stop'; pomoInt=setInterval(()=> {
                    pomoRem--; updPomo(); if(pomoRem<=0) {
                        clearInterval(pomoInt); pomoOn=false; this.textContent='▶ Start'; this.className='tool-btn start'; navigator.vibrate?.([300, 100, 300]); if(pomoMode==='work') {
                            pomoNext()
                        }

                        else {
                            pomoMode='work'; pomoRem=POMO_WORK; $('#pomo-label').textContent='🍅 Focus Time'; toast('Focus time!', '🍅'); updPomo()
                        }
                    }
                }

                , 1000)
        }

        else {
            pomoOn=false; clearInterval(pomoInt); this.textContent='▶ Resume'; this.className='tool-btn start'
        }
    });
$('#pomo-skip').addEventListener('click', pomoSkip);

$('#pomo-reset').addEventListener('click', ()=> {
        pomoOn=false; clearInterval(pomoInt); pomoMode='work'; pomoRem=POMO_WORK; pomoSessions=0; pomoTotalMin=0; $('#pomo-label').textContent='🍅 Focus Time'; $('#pomo-count').textContent='0'; $('#pomo-total').textContent='0m'; $('#pomo-start').textContent='▶ Start'; $('#pomo-start').className='tool-btn start'; updPomo()
    });
updPomo();

// Date Calculator
const today=new Date(); $('#date-from').value=today.toISOString().split('T')[0]; $('#date-to').value=today.toISOString().split('T')[0];

$('#datecalc-btn').addEventListener('click', ()=> {
        const from=new Date($('#date-from').value), to=new Date($('#date-to').value); if(isNaN(from)||isNaN(to)) {
            toast('कृपया दोनों तारीखें चुनें', '⚠️'); return
        }

        const diff=Math.abs(to-from); const days=Math.floor(diff/864e5), weeks=Math.floor(days/7), months=Math.floor(days/30.44), hours=Math.floor(diff/36e5); $('#datecalc-result').innerHTML=`<span style="color:var(--accent);font-size:1.3rem;font-weight:700" >$ {
            days
        }

        </span> <span style="color:var(--color-gold)" >Days</span><br><span style="font-size:0.8rem;color:var(--color-magenta)" >$ {
            weeks
        }

        Weeks • $ {
            months
        }

        Months • $ {
            hours.toLocaleString()
        }

        Hours</span>`; $('#datecalc-result').style.animation='none'; $('#datecalc-result').offsetHeight; $('#datecalc-result').style.animation='panelSwitch 0.4s ease'
    });

// Alarms
let alarms=JSON.parse(localStorage.getItem('sk-alarms')||'[]'); let lastAlarmMin=-1;

function renderAlarms() {
    const list=$('#alarm-list'); list.innerHTML=''; alarms.forEach((a, i)=> {
            const d=document.createElement('div'); d.className='alarm-item'; d.innerHTML=`<span class="alarm-item-time" >⏰ $ {
                pad(a.h)
            }

            :$ {
                pad(a.m)
            }

            $ {
                a.ap
            }

            </span><button class="alarm-item-del" data-idx="${i}" >✕</button>`; list.appendChild(d)

        }); list.querySelectorAll('.alarm-item-del').forEach(b=>b.addEventListener('click', ()=> {
                alarms.splice(parseInt(b.dataset.idx), 1); localStorage.setItem('sk-alarms', JSON.stringify(alarms)); renderAlarms(); toast('Alarm removed', '🗑️')
            }))
}

renderAlarms();

$('#alarm-add').addEventListener('click', ()=> {
        let h=parseInt($('#alarm-h').value)||7, m=parseInt($('#alarm-m-input').value)||0; const ap=$('#alarm-ampm').value; if(h<1)h=1; if(h>12)h=12; if(m<0)m=0; if(m>59)m=59; alarms.push({
            h, m, ap

        }); localStorage.setItem('sk-alarms', JSON.stringify(alarms)); renderAlarms(); toast(`Alarm set: $ {
            pad(h)
        }

        :$ {
            pad(m)
        }

        $ {
            ap
        }

        `, '⏰')
});

function checkAlarms(now) {
    const h12=now.getHours()%12||12, m=now.getMinutes(), ap=now.getHours()>=12?'PM':'AM'; const key=`$ {
        h12
    }

    -$ {
        m
    }

    -$ {
        ap
    }

    `; if(key===lastAlarmMin)return; lastAlarmMin=key; alarms.forEach(a=> {
            if(a.h===h12&&a.m===m&&a.ap===ap) {
                toast(`⏰ ALARM ! $ {
                        pad(a.h)
                    }

                    :$ {
                        pad(a.m)
                    }

                    $ {
                        a.ap
                    }

                    `, '🔔'); navigator.vibrate?.([500, 200, 500, 200, 500]); particleBurst(innerWidth/2, innerHeight/2, '#ff6b6b'); try {
                    const ctx=new(window.AudioContext||window.webkitAudioContext)(); for(let i=0; i<3; i++) {
                        const o=ctx.createOscillator(), g=ctx.createGain(); o.connect(g); g.connect(ctx.destination); o.frequency.value=880; o.type='sine'; g.gain.value=0.3; o.start(ctx.currentTime+i*0.4); o.stop(ctx.currentTime+i*0.4+0.2)
                    }
                }

                catch(e) {}
            }
        })
}

// Battery
async function initBattery() {
    try {
        if('getBattery' in navigator) {
            const bat=await navigator.getBattery(); function upd() {
                const pct=Math.round(bat.level*100); $('#battery-pct').textContent=pct+'%'; $('#battery-fill').style.width=pct+'%'; let col=pct>50?'var(--color-lime)':pct>20?'var(--color-gold)':'var(--color-coral)'; $('#battery-fill').style.background=col; $('#battery-pct').style.color=col; $('#battery-status').innerHTML=`<span class="pulse-dot" style="background:${pct>50?'var(--color-lime)':pct>20?'var(--color-gold)':'var(--color-coral)'}" ></span>$ {
                    bat.charging?'⚡ Charging':'🔋 Discharging'
                }

                `
            }

            upd(); bat.addEventListener('levelchange', upd); bat.addEventListener('chargingchange', upd)
        }

        else {
            $('#battery-pct').textContent='N/A'; $('#battery-status').textContent='Battery API not supported'
        }
    }

    catch(e) {
        $('#battery-pct').textContent='N/A'; $('#battery-status').textContent='Battery API not available'
    }
}

initBattery();

// Quotes with animation
const quotes=[ {
    t:"Time is the most valuable thing a man can spend.", a:"Theophrastus"
}

, {
t:"The two most powerful warriors are patience and time.", a:"Leo Tolstoy"
}

, {
t:"Lost time is never found again.", a:"Benjamin Franklin"
}

, {
t:"Time flies over us, but leaves its shadow behind.", a:"Nathaniel Hawthorne"
}

, {
t:"Better three hours too soon than a minute too late.", a:"William Shakespeare"
}

, {
t:"The key is in not spending time, but in investing it.", a:"Stephen R. Covey"
}

, {
t:"Time is what we want most, but what we use worst.", a:"William Penn"
}

, {
t:"Yesterday is gone. Tomorrow has not yet come. We have only today.", a:"Mother Teresa"
}

, {
t:"An inch of time is an inch of gold.", a:"Chinese Proverb"
}

, {
t:"Time waits for no one.", a:"Folklore"
}

, {
t:"Don't count the days, make the days count.", a:"Muhammad Ali"
}

, {
t:"Time is the wisest counselor of all.", a:"Pericles"
}

, {
t:"The future is something which everyone reaches at the rate of 60 minutes an hour.", a:"C.S. Lewis"
}

, {
t:"Time discovers truth.", a:"Seneca"
}

, {
t:"They always say time changes things, but you actually have to change them yourself.", a:"Andy Warhol"
}

, {
t:"समय से बड़ा कोई गुरु नहीं।", a:"Hindi Proverb"
}

, {
t:"वक्त बड़ा बलवान है।", a:"Hindi Proverb"
}

, {
t:"Time and tide wait for none.", a:"Geoffrey Chaucer"
}

];

function showQuote(animate=false) {
    const q=quotes[Math.floor(Math.random()*quotes.length)]; const qt=$('#quote-text'), qa=$('#quote-author'); if(animate) {
        qt.classList.add('changing'); qa.classList.add('changing'); setTimeout(()=> {
                qt.textContent=q.t; qa.textContent='— ' +q.a; qt.classList.remove('changing'); qa.classList.remove('changing')
            }

            , 300)
    }

    else {
        qt.textContent=q.t; qa.textContent='— ' +q.a
    }
}

showQuote();

$('#quote-refresh').addEventListener('click', ()=> {
        showQuote(true); toast('New quote!', '💡')
    });

// Tools tabs
$$('.tools-tab').forEach(tab=> {
        tab.addEventListener('click', ()=> {
                $$('.tools-tab').forEach(t=>t.classList.remove('active')); $$('.tools-panel').forEach(p=>p.classList.remove('active')); tab.classList.add('active'); $(`#panel-$ {
                        tab.dataset.tool
                    }

                    `).classList.add('active')
            })
    });

document.addEventListener('keydown', e=> {
        if(e.target.tagName==='INPUT' ||e.target.tagName==='SELECT')return; if(e.key==='Escape') {
            closePanel(); closeLang()
        }

        if(e.key==='f' && !e.ctrlKey&& !e.metaKey)toggleFS(); if(e.key==='s' && !e.ctrlKey&& !e.metaKey)openPanel()
    });

document.addEventListener('visibilitychange', ()=> {
        if( !document.hidden) {
            updateDigital(); updateWorld()
        }
    });

let lastS=-1; function mainLoop() {
    updateDigital(); const s=new Date().getSeconds(); if(s !==lastS) {
        updateWorld(); lastS=s
    }

    requestAnimationFrame(mainLoop)
}

let resizeT; addEventListener('resize', ()=> {
        clearTimeout(resizeT); resizeT=setTimeout(drawClockFaces, 200)
    }

    , {
    passive:true
}); addEventListener('orientationchange', ()=>setTimeout(drawClockFaces, 350));
$('#footer-year').textContent=new Date().getFullYear(); tmRem=getTmIn(); updTmD(); updateCurrentBanner(); drawClockFaces(); rotateClockFaces(); mainLoop(); initReveal();

addEventListener('load', ()=> {
        setTimeout(()=> {
                $('#loader').classList.add('done'); initTilt()
            }

            , 800)
    });
})();
</script></body></html>
